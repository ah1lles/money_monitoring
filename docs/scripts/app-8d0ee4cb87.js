!function(){"use strict";function e(){r.db=firebase.database(),r.rootRef=r.db.ref(),r.urlBase=r.rootRef.toString(),angular.element(document).ready(function(){o.constant("appConfig",r),angular.bootstrap(document,["moneyMonitoring"])})}var t={apiKey:"AIzaSyC-Jr_rmAy_8i0S97WbWlDPwtDQf2UInUM",authDomain:"monitoring-37fdd.firebaseapp.com",databaseURL:"https://monitoring-37fdd.firebaseio.com",projectId:"monitoring-37fdd",storageBucket:"monitoring-37fdd.appspot.com",messagingSenderId:"375917001440"},r={},n=!1,o=angular.module("moneyMonitoring",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ui.router","ngMaterial","toastr","angularUtils.directives.dirPagination"]);firebase.initializeApp(t),firebase.auth().onAuthStateChanged(function(t){r.user=t&&t.emailVerified?t:null,n||(e(),n=!0)})}(),function(){"use strict";function e(e,t){var r={},n=e.user.uid;return r.list=function(){return t.get("users/"+n+"/marks")},r.addMark=function(e){return t.add("users/"+n+"/marks",e)},r.removeMark=function(e){return t.remove("users/"+n+"/marks/"+e)},r.updateRecord=function(e,r){return t.update("users/"+n+"/marks/"+r,e)},r}angular.module("moneyMonitoring").factory("userMarks",e),e.$inject=["appConfig","DB"]}(),function(){"use strict";function e(e,t){var r={},n=e.user.uid;return r.list=function(){return t.get("users/"+n+"/list")},r.getRecord=function(e){return t.get("users/"+n+"/list/"+e)},r.addRecord=function(e){return t.add("users/"+n+"/list",e)},r.removeRecord=function(e){return t.remove("users/"+n+"/list/"+e)},r.updateRecord=function(e,r){return t.update("users/"+n+"/list/"+e,r)},r.deductionsList=function(e){return t.get("users/"+n+"/list/"+e+"/deductions")},r.getDeduction=function(e,r){return t.get("users/"+n+"/list/"+e+"/deductions/"+r)},r.createDeduction=function(e,r){return t.add("users/"+n+"/list/"+e+"/deductions",r)},r.updateDeduction=function(e,r,o){return t.update("users/"+n+"/list/"+e+"/deductions/"+r,o)},r.removeDeduction=function(e,r){return t.remove("users/"+n+"/list/"+e+"/deductions/"+r)},r}angular.module("moneyMonitoring").factory("dashboardApi",e),e.$inject=["appConfig","DB"]}(),function(){"use strict";function e(e,t,r,n){var o={};return o.login=function(e,t){return r.auth().signInWithEmailAndPassword(e,t)},o.signUp=function(e,t){return r.auth().createUserWithEmailAndPassword(e,t)},o.logout=function(){return r.auth().signOut()},o.getUser=function(){return r.auth().currentUser},o.sendEmailVerification=function(e){var e=e||o.getUser(),t=n.defer();return e.sendEmailVerification().then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},o.applyActionCode=function(e){var t=n.defer();return r.auth().applyActionCode(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},o.verifyPasswordResetCode=function(e){var t=n.defer();return r.auth().verifyPasswordResetCode(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},o.sendPasswordResetEmail=function(e){var t=n.defer();return r.auth().sendPasswordResetEmail(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise},o.confirmPasswordReset=function(e,t){var o=n.defer();return r.auth().confirmPasswordReset(e,t).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise},o}angular.module("moneyMonitoring").factory("Auth",e),e.$inject=["$cookies","$state","firebase","$q"]}(),function(){"use strict";function e(e,t,r,n){var o={};return o.get=function(o){e.preloaderActiveClass(!0);var a=n.defer();return r.rootRef.child(o).once("value").then(function(r){a.resolve(r.val()),t(function(){e.preloaderActiveClass(!1)},0)},function(r){a.reject(r),t(function(){e.preloaderActiveClass(!1)},0)}),a.promise},o.add=function(o,a){e.preloaderActiveClass(!0);var i=n.defer(),s=r.db.ref(o);return s.push(a).then(function(r){i.resolve(r),t(function(){e.preloaderActiveClass(!1)},0)},function(r){i.reject(r),t(function(){e.preloaderActiveClass(!1)},0)}),i.promise},o.remove=function(o){e.preloaderActiveClass(!0);var a=n.defer(),i=r.db.ref(o);return i.remove().then(function(r){a.resolve(r),t(function(){e.preloaderActiveClass(!1)},0)},function(r){a.reject(r),t(function(){e.preloaderActiveClass(!1)},0)}),a.promise},o.update=function(o,a){e.preloaderActiveClass(!0);var i=n.defer(),s=r.db.ref(o);return s.update(a).then(function(r){i.resolve(r),t(function(){e.preloaderActiveClass(!1)},0)},function(r){i.reject(r),t(function(){e.preloaderActiveClass(!1)},0)}),i.promise},o}angular.module("moneyMonitoring").factory("DB",e),e.$inject=["$rootScope","$timeout","appConfig","$q"]}(),function(){"use strict";function e(e){var t={};return t.create=function(t){return e.map(t,function(e,t){return e.id=t,e})},t}angular.module("moneyMonitoring").factory("toArray",e),e.$inject=["_"]}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:"app/components/sidebar/sidebar.html",controllerAs:"sidebar",controller:["$scope",function(e){e.mdSidenavInit()}]}}angular.module("moneyMonitoring").directive("mainSidebar",e),e.$inject=[]}(),function(){"use strict";function e(){var e=".la-anim-10",t=angular.element(document.querySelector(e)),r="la-animate",n={};n.openPreloader=function(){t.addClass(r)},n.closePreloader=function(){t.removeClass(r)},this.$get=function(){return n}}angular.module("moneyMonitoring").provider("Preloader",e)}(),function(){"use strict";function e(e){return{restrict:"E",replace:!0,templateUrl:"app/components/header/header.html",controllerAs:"header",controller:function(){var t=this;t.user_name=e.user.name,console.log(e.user)}}}angular.module("moneyMonitoring").directive("mainHeader",e),e.$inject=["appConfig"]}(),function(){"use strict";function e(e,t){return function(r,n){return n&&"date"===n.type?e(r).format(n.format||t):r}}e.$inject=["moment","defaultDateFormat"],angular.module("moneyMonitoring").filter("dateFilter",e)}(),function(){"use strict";function e(e,t,r,n,o,a,i,s){function d(e){c.verify_status=e,c.title=e?"Регистрация завершена!":"Извините, произошла ошибка!",c.content=e?"Ваша почта подтверждена. Теперь вы можете войти.":"Данная ссылка уже не доступна. Либо вы уже подтвердили вашу почту, либо истек срок действия данной ссылки."}var c=this,l=n.search(),u=l.oobCode;c.user={},c.regExpEmail=i,c.errors=s.createNew(),c.email_errors=["email-already-in-use","user-not-found","invalid-email"],c.password_erros=["wrong-password","weak-password"],c.registration=function(){c.signUpForm.password_confirmation.$setValidity("password_confirmation",angular.equals(c.user.password,c.user.password_confirmation)),c.signUpForm.$invalid||(e.preloaderActiveClass(!0),o.signUp(c.user.email,c.user.password).then(function(n){e.preloaderActiveClass(!1),o.sendEmailVerification().then(function(){var e=new Date;e.setDate(e.getDate()+1),r.put("confirmation_send","true",{expires:e}),t.go("confirmation_email")})},function(t){e.preloaderActiveClass(!1);var r=a.isNumber(t.code)?"weak-password":t.code.split("/")[1];a.contains(c.email_errors,r)?c.errors.inputErrors({email:t.message}):a.contains(c.password_erros,r)&&c.errors.inputErrors({password:t.message}),e.$apply()}))},c.confirm_email=function(){o.applyActionCode(u).then(function(e){d(!0)},function(e){d(!1)})},u&&"verify_email"===t.current.name&&c.confirm_email()}angular.module("moneyMonitoring").controller("SignUpController",e),e.$inject=["$scope","$state","$cookies","$location","Auth","_","regExpEmail","outputErrors"]}(),function(){"use strict";function e(e,t,r){function n(){this.errors={}}var o={};return n.prototype.inputErrors=function(t){this.errors=angular.merge({},t),e.$broadcast("$errors",this.errors)},n.prototype.alertDialog=function(e){var r="Ошибка!",n="Закрыть",o=e||"Что-то пошло не так...";return t.show(t.alert().clickOutsideToClose(!0).title(r).textContent(o).ok(n))},o.createNew=function(){return new n},o}angular.module("moneyMonitoring").factory("outputErrors",e),e.$inject=["$rootScope","$mdDialog","_"]}(),function(){"use strict";function e(){return{restrict:"A",require:["?ngModel","^?form"],link:function(e,t,r,n){function o(){a&&(a.$validators[s]=function(e,t){return!0})}var a,i=n[1],s=r.name;i&&(a=n[0]||i[s],o(),e.$on("$errors",function(e,t){a&&(a.$setValidity(s,!_.has(t,s)),a.$setTouched())}))}}}angular.module("moneyMonitoring").directive("inputErrors",e),e.$inject=[]}(),function(){"use strict";function e(e,t,r){var n={};return n.createAlert=function(e,r,n,o){return t.show({template:'<md-toast class="md-toast '+e+'"><div class="md-toast-content">'+r+"</div></md-toast>",hideDelay:n||3e3,position:o||"top right"})},n.alertSuccess=function(e,t,r){return n.createAlert("success",e,t,r)},n.alertError=function(e,t,r){return n.createAlert("error",e,t,r)},n.alertInfo=function(e,t,r){return n.createAlert("info",e,t,r)},n}angular.module("moneyMonitoring").factory("flashMethods",e),e.$inject=["$rootScope","$mdToast","_"]}(),function(){"use strict";function e(){return{restrict:"A",require:["?ngModel","^?form"],scope:{regExp:"@"},link:function(e,t,r,n){var o,a=n[1];a&&(o=n[0]||a[r.name],o&&(o.$validators.password_confirmation=function(e,t){var r=e||t,n=a.password.$modelValue||a.password.$viewValue;return r===n}))}}}angular.module("moneyMonitoring").directive("confirmPassword",e),e.$inject=[]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s){var d=this;d.user={},d.regExpEmail=a,d.errors=i.createNew(),d.email_errors=["user-not-found","invalid-email"],d.password_erros=["wrong-password","weak-password"],d.login=function(){e.preloaderActiveClass(!0),o.login(d.user.email,d.user.password).then(function(a){d.logged_user=o.getUser(),e.preloaderActiveClass(!1),d.logged_user.emailVerified?(e.$emit("login_animation"),t.go("dashboard")):(d.errors.inputErrors({email:"Email адрес не подтвержден. Проверте почту."}),d.send_again=n.get("confirmation_send")?!1:!0,r(function(){o.logout()},100))},function(t){e.preloaderActiveClass(!1);var r=t.code.split("/")[1];_.contains(d.email_errors,r)?d.errors.inputErrors({email:t.message}):_.contains(d.password_erros,r)&&d.errors.inputErrors({password:t.message}),e.$apply()})},d.send_email=function(){o.sendEmailVerification(d.logged_user).then(function(e){var t=new Date;t.setDate(t.getDate()+1),d.send_again=!1,n.put("confirmation_send","true",{expires:t}),s.show(s.simple().textContent("Сообщение отправлено! Проверте почту.").position("top right").hideDelay(5e3))},function(e){s.show(s.simple().textContent("Ошибка! Сообщение не отправлено.").position("top right").hideDelay(5e3))})}}angular.module("moneyMonitoring").controller("SignInController",e),e.$inject=["$scope","$state","$timeout","$cookies","Auth","regExpEmail","outputErrors","$mdToast"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,d){function c(e){l.verify_status=e,l.title=e?"Восстановление пароля":"Извините, произошла ошибка!",l.content=e?"Введите новый пароль.":"Данная ссылка уже не доступна."}var l=this,u=r.search(),m=u.oobCode;l.user={},l.regExpEmail=i,l.email_errors=["user-not-found","invalid-email"],l.password_erros=["wrong-password","weak-password"],l.errors=s.createNew(),m&&a.verifyPasswordResetCode(m).then(function(e){c(!0)},function(e){c(!1)}),l.confirm_email=function(){l.confirmEmailForm.$invalid||(e.preloaderActiveClass(!0),a.sendPasswordResetEmail(l.user.email).then(function(r){e.preloaderActiveClass(!1),n.put("email_confirmation","true"),t.go("confirm_email_success")},function(t){e.preloaderActiveClass(!1);var r=t.code.split("/")[1];_.contains(l.email_errors,r)?l.errors.inputErrors({email:t.message}):d.show(d.simple().textContent(t.message||"Произошла ошибка!").position("top right").hideDelay(1e4)),e.$apply()}))},l.confirm_password=function(){l.confirmPasswordForm.password_confirmation.$setValidity("password_confirmation",angular.equals(l.user.password,l.user.password_confirmation)),l.confirmPasswordForm.$invalid||(e.preloaderActiveClass(!0),a.confirmPasswordReset(m,l.user.password).then(function(r){e.preloaderActiveClass(!1);var o=new Date;o.setMinutes(o.getMinutes()+2),n.put("change_password","true",{expires:o}),t.go("change_password_success")},function(t){e.preloaderActiveClass(!1);var r=_.isNumber(t.code)?"weak-password":t.code.split("/")[1];_.contains(l.password_erros,r)&&l.errors.inputErrors({password:t.message}),e.$apply()}))}}angular.module("moneyMonitoring").controller("ForgotPasswordController",e),e.$inject=["$scope","$state","$location","$cookies","$timeout","Auth","regExpEmail","outputErrors","$mdToast"]}(),function(){"use strict";function e(e){e.state("profile_settings",{url:"/profile_settings",templateUrl:"app/profile_settings/partials/profile_settings.html",controller:"ProfileSettingsController",controllerAs:"profile"})}e.$inject=["$stateProvider"],angular.module("moneyMonitoring").config(e)}(),function(){"use strict";function e(e,t,r,n,o){var a=this;a.marks_list={},a.mark={},o.list().then(function(e){a.marks_list=e||{}},function(){n.alertError("Извините, произошла ошибка!")}),a.add_mark=function(){a.addMarkForm.$invalid||o.addMark(a.mark).then(function(e){a.marks_list[e.key]=angular.copy(a.mark),a.mark={},a.addMarkForm.$setPristine(),a.addMarkForm.$setUntouched()},function(){n.alertError("Извините, произошла ошибка!")})},a.remove_mark=function(e,t,i){var s=r.confirm().title("Удаление метки").textContent('Вы уверены, что хотите удалить метку "'+t.name+'"?').targetEvent(i).clickOutsideToClose(!0).ok("Удалить").cancel("Нет");r.show(s).then(function(){o.removeMark(e).then(function(t){delete a.marks_list[e],n.alertSuccess("Метка была успешно удалена!")},function(e){n.alertError("Извините, произошла ошибка!")})})}}angular.module("moneyMonitoring").controller("ProfileSettingsController",e),e.$inject=["$scope","$state","$mdDialog","flashMethods","userMarks"]}(),function(){"use strict";function e(e){e.state("dashboard",{url:"/dashboard",templateUrl:"app/dashboard/partials/dashboard.html",controller:"DashboardController",controllerAs:"dashboard"}).state("dashboard.record",{url:"/record/:recordId",templateUrl:"app/dashboard/partials/record.html",controller:"RecordController",controllerAs:"record"}).state("dashboard.deductions_list",{url:"/record/:recordId/deductions",templateUrl:"app/dashboard/partials/deductions_list.html",controller:"DeductionsListController",controllerAs:"deductions_list"}).state("dashboard.deduction",{url:"/record/:recordId/deductions/:deductionId",templateUrl:"app/dashboard/partials/deduction.html",controller:"DeductionController",controllerAs:"deduction"})}e.$inject=["$stateProvider"],angular.module("moneyMonitoring").config(e)}(),function(){"use strict";function e(e,t,r,n,o,a,i,s){var d,c=this,l=i();c.title=r.recordId?"Редактировать запись":"Создать запись",c.submit_btn=r.recordId?"Сохранить":"Создать",c.add_total_input=r.recordId?!0:!1,c.months=i.months(),c.years=[2017,2018,2019,2020,2021,2022,2023,2024,2025,2026],c.current_months_index=l.month(),c.new_record={},r.recordId?o.getRecord(r.recordId).then(function(e){c.new_record=e||{},d=c.new_record.total},function(e){a.alertError("Извините, произошла ошибка!")}):(c.new_record.month=c.months[c.current_months_index],c.new_record.days_in_month=l.daysInMonth(),c.new_record.year=l.year()),c.update_total=function(){c.new_record.total=c.add_to_total?c.new_record.total+c.add_to_total:d},c.save_record=function(){if(c.recordForm.$setSubmitted(),!c.recordForm.$invalid){var e=i(c.new_record.year+"-"+(c.months.indexOf(c.new_record.month)+1),"YYYY-MM");c.new_record.days_in_month=e.daysInMonth(),c.new_record.sum_in_day=(c.new_record.total/c.new_record.days_in_month).toFixed(2),r.recordId?o.updateRecord(r.recordId,c.new_record).then(function(e){d=c.new_record.total,c.add_to_total=null,a.alertSuccess("Запись была успешно обновлена!")},function(e){a.alertError("Извините, произошла ошибка!")}):(c.new_record.created_at=e.startOf("month").toISOString(),o.addRecord(c.new_record).then(function(e){c.back(),a.alertSuccess("Запись была успешно создана!")},function(e){a.alertError("Извините, произошла ошибка!")}))}},c.back=function(){t.go("dashboard",null,{reload:!0})}}angular.module("moneyMonitoring").controller("RecordController",e),e.$inject=["$scope","$state","$stateParams","$mdDialog","dashboardApi","flashMethods","moment","_"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,d,c,l){var u=this;u.list=[],u.marks_list=[],u.search_term="",u.current_mark=null,u.current_sort={column:"created_at"},u.columns=[{name:"created_at",label:"Дата",type:"date"},{name:"mark",label:"Метка",type:"string"},{name:"description",label:"Описание",type:"string"},{name:"amount",label:"Сумма",type:"integer",sort:!0}],u.searchParams={searchTerm:"",marksList:{},format:c},o.getRecord(r.recordId).then(function(e){u.list=d.create(e.deductions),u.title="Список вычетов на "+e.month},function(e){a.alertError("Извините, произошла ошибка!")}),i.list().then(function(e){u.marks_list=e||{},u.searchParams.marksList=u.marks_list},function(){a.alertError("Извините, произошла ошибка!")}),u.apply_sort=function(e){u.current_sort.name!==e&&(u.current_sort.type=""),u.current_sort.type=u.current_sort.type?"asc"===u.current_sort.type?"desc":"":"asc",u.current_sort.column="desc"===u.current_sort.type?"-"+e:e,u.current_sort.name=e,u.current_sort.type||(u.current_sort.column="created_at")},u.remove_deduction=function(e,t){var i=n.confirm().title("Удаление вычета").textContent("Вы уверены, что хотите удалить данный вычет?").targetEvent(t).clickOutsideToClose(!0).ok("Удалить").cancel("Нет");n.show(i).then(function(){o.removeDeduction(r.recordId,e).then(function(t){u.list=l.reject(u.list,{id:e}),a.alertSuccess("Вычет успешно удален!")},function(e){a.alertError("Извините, произошла ошибка!")})})},u.searchFilter=function(e){return function(t){if(!e.searchTerm)return!0;var r,n,o,a=[];return l.each(t,function(t,i){"$$hashKey"!==i&&"id"!==i&&("mark"===i?(r=e.marksList[t],r&&~r.name.toLowerCase().indexOf(e.searchTerm.toLowerCase())&&a.push(i)):"created_at"===i?(n=s(t),o=n.isValid()?n.format(e.format):t,~o.indexOf(e.searchTerm)&&a.push(i)):~t.toString().indexOf(e.searchTerm)&&(console.log(t,i),a.push(i)))}),a.length}},u.back=function(){t.go("dashboard",null,{reload:!0})},u.add_deduction=function(){t.go("dashboard.deduction",{recordId:r.recordId})},u.edit_deduction=function(e){t.go("dashboard.deduction",{recordId:r.recordId,deductionId:e})}}angular.module("moneyMonitoring").controller("DeductionsListController",e),e.$inject=["$scope","$state","$stateParams","$mdDialog","dashboardApi","flashMethods","userMarks","moment","toArray","defaultDateFormat","_"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s,d){var c=this;c.title=r.deductionId?"Редактировать вычет":"Создать вычет",c.submit_btn=r.deductionId?"Сохранить":"Создать",c.deduction={},c.marks_list={},c.from_state="",c.from_params=null,c.back=function(){t.go(c.from_state,c.from_params,{reload:!0})},c.set_deduction_date=function(){c.deduction.created_at=c.picker_date.toISOString()},r.deductionId||(c.picker_date=new Date,c.picker_min_date=i().startOf("month")._d,c.picker_max_date=i().endOf("month")._d,c.set_deduction_date()),e.$on("$stateChangeSuccess",function(e,t,r,n,o){c.from_state=n.name||"dashboard",c.from_params=r.recordId?{recordId:r.recordId}:null}),r.recordId&&r.deductionId&&o.getDeduction(r.recordId,r.deductionId).then(function(e){c.deduction=e||{},c.picker_date=i(c.deduction.created_at)._d,c.picker_min_date=i(c.deduction.created_at).startOf("month")._d,c.picker_max_date=i(c.deduction.created_at).endOf("month")._d},function(e){a.alertError("Извините, произошла ошибка!")}),s.list().then(function(e){c.marks_list=e||{}},function(){a.alertError("Извините, произошла ошибка!")}),c.save_deduction=function(){c.deductionForm.$setSubmitted(),c.deductionForm.$invalid||(r.deductionId?o.updateDeduction(r.recordId,r.deductionId,c.deduction).then(function(e){a.alertSuccess("Вычет успешно обновлен!")},function(){a.alertError("Извините, произошла ошибка!")}):o.createDeduction(r.recordId,c.deduction).then(function(e){c.deduction={},c.deductionForm.$setPristine(),c.deductionForm.$setUntouched(),a.alertSuccess("Вычет успешно создан!")},function(){a.alertError("Извините, произошла ошибка!")}))}}angular.module("moneyMonitoring").controller("DeductionController",e),e.$inject=["$scope","$state","$stateParams","$mdDialog","dashboardApi","flashMethods","moment","userMarks","_"]}(),function(){"use strict";function e(e,t,r,n,o,a,i,s){var d=this;a();d.list=[],d.items_per_page=12,d.search_term="",d.current_sort={column:"created_at"},d.searchParams={searchTerm:"",format:"MMMM YYYY"},d.columns=[{name:"created_at",label:"Дата",type:"date",format:"MMMM YYYY"},{name:"total",label:"Общая сумма",type:"integer",sort:!0},{name:"sum_amounts",label:"Всего потрачено",type:"integer",sort:!0},{name:"sum_in_day",label:"Сумма в день",type:"integer"}],n.list().then(function(e){d.list=i.create(e),d.list=s.each(d.list,function(e){e.sum_amounts=d.get_sum_amounts(e.deductions)})},function(e){o.alertError("Извините, произошла ошибка!")}),d.searchFilter=function(e){return function(t){if(!e.searchTerm)return!0;var r,n,o=[];return s.each(t,function(t,i){"$$hashKey"!==i&&"id"!==i&&("created_at"===i?(r=a(t),n=r.isValid()?r.format(e.format):t,~n.indexOf(e.searchTerm)&&o.push(i)):~t.toString().indexOf(e.searchTerm)&&(console.log(t,i),o.push(i)))}),o.length}},d.apply_sort=function(e){d.current_sort.name!==e&&(d.current_sort.type=""),d.current_sort.type=d.current_sort.type?"asc"===d.current_sort.type?"desc":"":"asc",d.current_sort.column="desc"===d.current_sort.type?"-"+e:e,d.current_sort.name=e,d.current_sort.type||(d.current_sort.column="created_at")},d.get_sum_amounts=function(e){var t=s.pluck(e,"amount");return s.reduce(t,function(e,t){return e+t},0)},d.add_record=function(){t.go("dashboard.record")},d.edit_record=function(e){t.go("dashboard.record",{recordId:e})},d.add_deduction=function(e){t.go("dashboard.deduction",{recordId:e})},d.deductions_list=function(e){t.go("dashboard.deductions_list",{recordId:e})},d.close_dialog=function(){r.cancel()},d.remove_record=function(e,t){var a=r.confirm().title("Удаление записи").textContent("Вы уверены, что хотите удалить запись?").targetEvent(t).clickOutsideToClose(!0).ok("Удалить").cancel("Нет");r.show(a).then(function(){n.removeRecord(e).then(function(t){d.list=s.reject(d.list,{id:e}),o.alertSuccess("Запись была успешно удалена!")},function(e){o.alertError("Извините, произошла ошибка!")})})}}angular.module("moneyMonitoring").controller("DashboardController",e),e.$inject=["$scope","$state","$mdDialog","dashboardApi","flashMethods","moment","toArray","_"]}(),function(){"use strict";function e(e){e.state("sign_in",{url:"/sign_in",templateUrl:"app/auth/sign_in/partials/sign_in.html",controller:"SignInController",controllerAs:"sign_in"}).state("sign_up",{url:"/sign_up",templateUrl:"app/auth/sign_up/partials/sign_up.html",controller:"SignUpController",controllerAs:"sign_up"}).state("confirmation_email",{url:"/sign_up/confirmation_email",templateUrl:"app/auth/sign_up/partials/confirmation_email.html",resolve:{isEmail:["$state","$timeout","$cookies","$q",function(e,t,r,n){var o=n.defer();return r.get("confirmation_send")?o.resolve():(o.reject(),t(function(){e.go("home")},0)),o.promise}]}}).state("verify_email",{url:"/sign_up/verify_email",templateUrl:"app/auth/sign_up/partials/verify_email.html",controller:"SignUpController",controllerAs:"sign_up",resolve:{verifyEmail:["$state","$timeout","$cookies","$location","$q",function(e,t,r,n,o){var a=o.defer(),i=n.search(),s=i.mode;return i.oobCode&&"verifyEmail"===s?(r.remove("confirmation_send"),a.resolve()):(a.reject(),t(function(){e.go("home")},0)),a.promise}]}}).state("confirm_email",{url:"/confirm_email",templateUrl:"app/auth/forgot_password/partials/confirm_email.html",controller:"ForgotPasswordController",controllerAs:"forgot_password"}).state("confirm_password",{url:"/change_password",templateUrl:"app/auth/forgot_password/partials/confirm_password.html",controller:"ForgotPasswordController",controllerAs:"forgot_password",resolve:{checkCode:["$state","$timeout","$location","$q",function(e,t,r,n){var o=n.defer(),a=r.search(),i=a.mode;return a.oobCode&&"resetPassword"===i?o.resolve():(o.reject(),t(function(){e.go("home")},0)),o.promise}]}}).state("confirm_email_success",{url:"/confirm_email_success",templateUrl:"app/auth/forgot_password/partials/confirm_email_success.html",resolve:{checkParamsCode:["$state","$timeout","$cookies","$q",function(e,t,r,n){var o=n.defer();return r.get("email_confirmation")?o.resolve():(o.reject(),t(function(){e.go("home")},0)),o.promise}]}}).state("change_password_success",{url:"/change_password_success",templateUrl:"app/auth/forgot_password/partials/change_success.html",resolve:{checkParamsCode:["$state","$timeout","$cookies","$q",function(e,t,r,n){var o=n.defer();return r.get("change_password")?(r.remove("email_confirmation"),o.resolve()):(o.reject(),t(function(){e.go("home")},0)),o.promise}]}})}e.$inject=["$stateProvider"],angular.module("moneyMonitoring").config(e)}(),function(){"use strict";function e(e,t,r,n){e.preloaderClass=!1,e.preloaderActiveClass=function(t){e.preloaderClass=t},e.headerHide=!0,e.states_for_anonymous=["home","sign_in","sign_up","confirmation_email","verify_email","confirm_email","confirm_email_success","confirm_password","change_password_success","auth_action"],e.$on("$stateChangeSuccess",function(r,o){e.headerHide=_.contains(e.states_for_anonymous,o.name),n.user?e.headerHide&&(r.preventDefault(),t.go("dashboard")):e.headerHide||(r.preventDefault(),t.go("logout"))})}e.$inject=["$rootScope","$state","Auth","appConfig"],angular.module("moneyMonitoring").run(e)}(),function(){"use strict";function e(e,t){e.state("home",{url:"/",templateUrl:"app/auth/auth.html"}).state("logout",{url:"/logout",resolve:{userLogout:["$state","Auth",function(e,t){t.logout().then(function(t){e.go("sign_in")},function(t){e.go("sign_in")})}]}}).state("auth_action",{url:"/auth_action",resolve:{redirect:["$state","$timeout","$location","$cookies","$q","$window",function(e,t,r,n,o,a){var i=o.defer(),s=r.search(),d=r.absUrl(),c=r.path(),l=s.mode,u="",m="";return t(function(){l?("verifyEmail"===l?u="/sign_up/verify_email":"resetPassword"===l&&(u="/change_password"),m=d.replace(c,u),a.location.href=m):e.go("home")},0),i.reject(),i.promise}]}}),t.otherwise(function(e){var t=e.get("$state"),r=e.get("appConfig"),n=t.current.name||(r.user?"dashboard":"home");t.go(n)})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("moneyMonitoring").config(e)}(),function(){"use strict";function e(e,t,r){var n=this;e.mdSidenavInit=function(){e.toggle=angular.noop,e.isOpen=angular.noop,r.when("sidebar-left").then(function(t){e.isOpen=angular.bind(t,t.isOpen),e.toggle=angular.bind(t,t.toggle)})},e.$on("login_animation",function(){n.login_animation=!0,t(function(){n.login_animation=!1},2e3)})}angular.module("moneyMonitoring").controller("IndexController",e),e.$inject=["$scope","$timeout","$mdComponentRegistry"]}(),function(){"use strict";angular.module("moneyMonitoring").constant("moment",moment).constant("firebase",firebase).constant("_",_).constant("defaultDateFormat","L").constant("regExpEmail","^([0-9a-zA-Z]([-_\\.]*[0-9a-zA-Z]+)*)@([0-9a-zA-Z]([-_\\.]*[0-9a-zA-Z]+)*)[\\.]([a-zA-Z]{2,9})$")}(),function(){"use strict";function e(e,r){e.debugEnabled(!0),r.interceptors.push(t)}function t(e,t){return{request:function(e){return t.openPreloader(),e},requestError:function(r){return t.closePreloader(),e.reject(r)},response:function(e){return t.closePreloader(),e},responseError:function(r){return t.closePreloader(),e.reject(r)}}}function r(e){var t=e.extendPalette("blue",{500:"#1088DE",600:"#1669b1"}),r=e.extendPalette("light-green",{A200:"#ABD036",A700:"#94b725",contrastDefaultColor:"light"}),n=e.extendPalette("red",{500:"#D94740",600:"#b32926"}),o=e.extendPalette("grey",{50:"#f2f2f2"});e.definePalette("primaryBlue",t),e.definePalette("accentGreen",r),e.definePalette("warnRed",n),e.definePalette("bgGrey",o),e.theme("default").primaryPalette("primaryBlue").accentPalette("accentGreen").warnPalette("warnRed").backgroundPalette("bgGrey")}function n(e,t,r){t.locale("ru"),console.log(t.locale()),e.months=t.months(),e.shortMonths=t.monthsShort(),e.days=t.weekdays(),e.shortDays=t.weekdaysMin(),e.firstDayOfWeek=1,e.formatDate=function(e){var n=t(e);return n.isValid()?n.format(r):e}}e.$inject=["$logProvider","$httpProvider"],r.$inject=["$mdThemingProvider"],n.$inject=["$mdDateLocaleProvider","moment","defaultDateFormat"],t.$inject=["$q","Preloader"],angular.module("moneyMonitoring").config(e).config(r).config(n)}(),angular.module("moneyMonitoring").run(["$templateCache",function(e){e.put("app/auth/auth.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Добро пожаловать</h2><div class="welcome md-subhead">Войдите или зарегистрируйтесь.</div><div class=button-wrap><md-button ui-sref=sign_in class="md-primary md-raised">Вход</md-button><md-button ui-sref=sign_up class=md-raised>Регистрация</md-button></div></div>'),e.put("app/dashboard/partials/dashboard.html",'<div class=view-content><ui-view><md-card class=md-whiteframe-2dp><md-card-header layout=row layout-align="space-between center"><div class=md-headline>Главная</div><div class=search-block><md-input-container md-no-float class="md-icon-left md-block"><md-icon><i class="fa fa-search"></i></md-icon><input type=text placeholder=Поиск ng-model=dashboard.searchParams.searchTerm></md-input-container></div></md-card-header><md-card-content class=no-padding><div class=table-wrap><div class=main-table><div class=table-head><div class=table-row><div ng-repeat="column in dashboard.columns" data-type={{column.type}} class=table-cell><span ng-bind=column.label></span><span ng-if=column.sort class=sort_btn ng-click=dashboard.apply_sort(column.name) ng-class="{\'asc\': dashboard.current_sort.type === \'asc\' &amp;&amp; dashboard.current_sort.name === column.name, \'desc\': dashboard.current_sort.type === \'desc\' &amp;&amp; dashboard.current_sort.name === column.name}"><i class="fa fa-sort-asc"></i><i class="fa fa-sort-desc"></i></span></div><div class=table-cell></div></div></div><div class=table-body><div dir-paginate="(key, value) in dashboard.list | orderBy: dashboard.current_sort.column | filter: dashboard.searchFilter(dashboard.searchParams) | itemsPerPage: dashboard.items_per_page" class=table-row><div ng-repeat="column in dashboard.columns" data-type={{column.type}} class=table-cell><span ng-bind="value[column.name] | dateFilter: column"></span></div><div class="table-cell action-block"><md-button class=md-icon-button ng-click=dashboard.edit_record(value.id) aria-label="edit record"><i class="fa fa-edit"></i></md-button><md-button class=md-icon-button ng-click=dashboard.deductions_list(value.id) aria-label="deductions list"><i class="fa fa-eye"></i></md-button><md-button class=md-icon-button ng-click=dashboard.add_deduction(value.id) aria-label="add deduction"><i class="fa fa-usd"></i></md-button><md-button class=md-icon-button ng-click="dashboard.remove_record(value.id, $event)" aria-label=remove><i class="fa fa-trash-o"></i></md-button></div></div></div></div></div></md-card-content><md-card-footer><div layout=row layout-align="space-between center" class=footer-wrap><md-button class="md-raised md-primary" ng-click=dashboard.add_record()>Добавить месяц</md-button><dir-pagination-controls template-url=app/components/pagination/pagination.html></dir-pagination-controls></div></md-card-footer></md-card></ui-view></div>'),e.put("app/dashboard/partials/deduction.html",'<md-card class=md-whiteframe-2dp><md-card-header><div ng-bind=deduction.title class=md-headline></div></md-card-header><md-card-content><div class=max-width><form name=deduction.deductionForm ng-submit=deduction.save_deduction() class=last-item-no-margin><md-input-container class=md-block><label>Сумма вычета</label><input required name=amount min=0 type=number ng-model=deduction.deduction.amount><div ng-messages=deduction.deductionForm.amount.$error><div ng-message=required>Поле нужно заполнить</div><div ng-message=min>Не может быть отрицательным</div></div></md-input-container><md-input-container class=md-block><label>Метка</label><md-select ng-model=deduction.deduction.mark><md-option ng-value=key ng-repeat="(key, mark) in deduction.marks_list"><span ng-bind=mark.name></span></md-option></md-select><span class=errors-reserve></span></md-input-container><md-input-container class=md-block><label>Описание</label><textarea ng-model=deduction.deduction.description></textarea></md-input-container><div class=datepicker-input-container><md-datepicker md-open-on-focus class=hide-icon ng-model=deduction.picker_date md-min-date=deduction.picker_min_date md-max-date=deduction.picker_max_date md-placeholder="Выбрать дату" ng-change=deduction.set_deduction_date()></md-datepicker></div><div class=button-holder><md-button type=submit class="md-raised md-primary" aria-label="save deduction"><span ng-bind=deduction.submit_btn></span></md-button><md-button class=md-raised ng-click=deduction.back() aria-label=back>Назад</md-button></div></form></div></md-card-content><md-card-footer></md-card-footer></md-card>'),
e.put("app/dashboard/partials/deductions_list.html",'<md-card class=md-whiteframe-2dp><md-card-header layout=row layout-align="space-between center"><div ng-bind=deductions_list.title class=md-headline></div><div class=search-block><md-input-container md-no-float class="md-icon-left md-block"><md-icon><i class="fa fa-search"></i></md-icon><input type=text placeholder=Поиск ng-model=deductions_list.searchParams.searchTerm></md-input-container></div></md-card-header><md-card-content class=no-padding><div class=table-wrap><div class=main-table><div class=table-head><div class=table-row><div ng-repeat="column in deductions_list.columns" data-type={{column.type}} class=table-cell><span ng-bind=column.label></span><span ng-if=column.sort class=sort_btn ng-click=deductions_list.apply_sort(column.name) ng-class="{\'asc\': deductions_list.current_sort.type === \'asc\' &amp;&amp; deductions_list.current_sort.name === column.name, \'desc\': deductions_list.current_sort.type === \'desc\' &amp;&amp; deductions_list.current_sort.name === column.name}"><i class="fa fa-sort-asc"></i><i class="fa fa-sort-desc"></i></span></div><div class=table-cell></div></div></div><div class=table-body><div ng-repeat="(key, value) in deductions_list.list | orderBy: deductions_list.current_sort.column | filter: deductions_list.searchFilter(deductions_list.searchParams)" class=table-row><div ng-repeat="column in deductions_list.columns" data-type={{column.type}} class=table-cell><span ng-bind="(column.name === \'mark\' ? (deductions_list.marks_list[value[column.name]].name) : value[column.name]) | dateFilter: column"></span></div><div class="table-cell action-block"><md-button class=md-icon-button ng-click=deductions_list.edit_deduction(value.id) aria-label="edit deduction"><i class="fa fa-pencil-square-o"></i></md-button><md-button class=md-icon-button ng-click="deductions_list.remove_deduction(value.id, $event)" aria-label="remove deduction"><i class="fa fa-trash-o"></i></md-button></div></div></div></div></div></md-card-content><md-card-footer><div layout=row layout-align="space-between center" class=footer-wrap><div class=button-holder><md-button class="md-raised md-primary" ng-click=deductions_list.add_deduction() aria-label=back>Добавить вычет</md-button><md-button class=md-raised ng-click=deductions_list.back() aria-label=back>Назад</md-button></div><dir-pagination-controls template-url=app/components/pagination/pagination.html></dir-pagination-controls></div></md-card-footer></md-card>'),e.put("app/dashboard/partials/record.html",'<md-card class=md-whiteframe-2dp><md-card-header><div ng-bind=record.title class=md-headline></div></md-card-header><md-card-content><div class=max-width><form name=record.recordForm class=last-item-no-margin><md-input-container class=md-block><label>Введите сумму</label><input required name=total type=number ng-model=record.new_record.total ng-disabled=record.add_to_total><div ng-messages=record.recordForm.total.$error><div ng-message=required>Поле нужно заполнить</div></div></md-input-container><md-input-container class=md-block ng-if=record.add_total_input><label>Или введите значение, на которое нужно увеличить</label><input type=number ng-model=record.add_to_total ng-change=record.update_total()></md-input-container><md-input-container class=md-block><label>Месяц</label><md-select ng-model=record.new_record.month><md-option ng-value=month ng-repeat="month in record.months"><span ng-bind=month></span></md-option></md-select><span class=errors-reserve></span></md-input-container><md-input-container class=md-block><label>Год</label><md-select ng-model=record.new_record.year><md-option ng-value=year ng-repeat="year in record.years"><span ng-bind=year></span></md-option></md-select><span class=errors-reserve></span></md-input-container></form></div></md-card-content><md-card-footer><md-button class="md-raised md-primary" ng-click=record.save_record($event) aria-label="save record"><span ng-bind=record.submit_btn></span></md-button><md-button class=md-raised ng-click=record.back() aria-label=back>Назад</md-button></md-card-footer></md-card>'),e.put("app/profile_settings/partials/profile_settings.html",'<div class=view-content><md-card class=md-whiteframe-2dp><md-card-header><div class=md-headline>Настройки профиля</div></md-card-header><md-card-content><div class=md-title>Метки</div><div class=max-width><p>Список меток</p><div class=marks-list><div ng-repeat="(key, value) in profile.marks_list" class=mark><span ng-bind=value.name></span><md-button class=md-icon-button ng-click="profile.remove_mark(key, value, $event)" aria-label=remove><i class="fa fa-times"></i></md-button></div></div><form name=profile.addMarkForm class=last-item-no-margin ng-submit=profile.add_mark()><md-input-container class=md-block><label>Название метки</label><input required type=text ng-model=profile.mark.name></md-input-container><div class=button-holder><md-button class="md-raised md-primary" type=submit aria-label=add>Добавить</md-button></div></form></div></md-card-content><md-card-footer></md-card-footer></md-card></div>'),e.put("app/components/pagination/pagination.html",'<div ng-if="1 &lt; pages.length || !autoHide" class=pagination><span ng-bind="range.lower + \'-\' + range.upper + \' из \' + range.total"></span><md-button ng-if=boundaryLinks class=md-icon-button aria-label=first ng-click=setCurrent(1) ng-disabled="pagination.current == 1"><i class="fa fa-chevron-left"></i></md-button><md-button ng-if=directionLinks class=md-icon-button aria-label=first ng-click="setCurrent(pagination.current - 1)" ng-disabled="pagination.current == 1"><i class="fa fa-chevron-left"></i></md-button><md-button ng-if=false ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" class=md-icon-button aria-label=first ng-click="setCurrent(pagination.current - 1)" ng-class="{ active : pagination.current == pageNumber}" ng-disabled="pageNumber == \'...\'"><span ng-bind=pageNumber></span></md-button><md-button ng-if=directionLinks class=md-icon-button aria-label=last ng-click="setCurrent(pagination.current + 1)" ng-disabled="pagination.current == pagination.last"><i class="fa fa-chevron-right"></i></md-button><md-button ng-if=boundaryLinks class=md-icon-button aria-label=last ng-click=setCurrent(pagination.last) ng-disabled="pagination.current == pagination.last"><i class="fa fa-chevron-right"></i></md-button></div>'),e.put("app/components/header/header.html",'<md-toolbar class=main-header><div class=md-toolbar-tools><div flex class=left-side><md-button class="md-icon-button btn-sandwich" aria-label=menu ng-click=toggle() ng-class="{\'sidebar-open\': isOpen()}"><span class=top-part></span><span class=middle-part></span><span class=bottom-part></span></md-button></div><div flex class="senter-side align-center"><div class="logo small"><a ui-sref=home>Money Monitoring</a></div></div><div flex class=right-side><div ng-bind=header.user_name class=user-name></div><md-button class=md-icon-button aria-label=settings ui-sref=profile_settings><i class="fa fa-cog"></i></md-button><md-button class=md-icon-button aria-label=logout ui-sref=logout><i class="fa fa-sign-out"></i></md-button></div></div></md-toolbar>'),e.put("app/components/sidebar/sidebar.html","<md-sidenav md-disable-backdrop class=md-sidenav-left md-component-id=sidebar-left md-whiteframe=4><md-toolbar class=md-theme-indigo><h1 class=md-toolbar-tools>Disabled Backdrop</h1><md-content><p>This sidenav is not showing any backdrop, where users can click on it, to close the sidenav.</p><md-button ng-click=index.toggleLeft() class=md-accent>Close this Sidenav</md-button></md-content></md-toolbar></md-sidenav>"),e.put("app/auth/sign_up/partials/confirmation_email.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Регистрация почти завершена!</div><div class=md-subhead>Для подтверждения регистрации на указанный вами email адрес было выслано письмо с дальнейшими инструкциями. Обратите внимание, что письма иногда попадают в спам.</div></div></div>'),e.put("app/auth/sign_up/partials/sign_up.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Регистрация</h2><div class="md-subhead align-center">Введите существующий email адрес.</div><div class=form-wrap><form name=sign_up.signUpForm ng-submit=sign_up.registration()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{sign_up.regExpEmail}} type=email name=email ng-model=sign_up.user.email autocomplete=new-email><div ng-messages=sign_up.signUpForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=sign_up.errors.errors.email></span></div></div></md-input-container><md-input-container class=md-block><label>Пароль</label><input required input-errors type=password name=password ng-model=sign_up.user.password minlength=6 autocomplete=new-password><div ng-messages=sign_up.signUpForm.password.$error><div ng-message=minlength>Пароль не может быть меньше 6 символов!</div><div ng-message=password><span ng-bind=sign_up.errors.errors.password></span></div></div></md-input-container><md-input-container class=md-block><label>Повторите пароль</label><input required confirm-password type=password name=password_confirmation ng-model=sign_up.user.password_confirmation autocomplete=new-password><div ng-messages=sign_up.signUpForm.password_confirmation.$error><div ng-message=password_confirmation>Должно соответствовать паролю.</div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class="md-primary md-raised" ng-disabled=sign_up.signUpForm.$invalid>Зарегистрироваться</md-button></div></form></div></div>'),e.put("app/auth/sign_up/partials/verify_email.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div ng-bind=sign_up.title class=md-headline></div><div ng-bind=sign_up.content class=md-subhead></div><div ng-if=sign_up.verify_status class=button-wrap><md-button ui-sref=sign_in class="md-primary md-raised">Войти</md-button></div></div></div>'),e.put("app/auth/forgot_password/partials/change_success.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Пароль успешно изменен!</div><div class=md-subhead>Теперь вы можете войти под новым паролем.</div><div class=button-wrap><md-button ui-sref=sign_in class="md-primary md-raised">Войти</md-button></div></div></div>'),e.put("app/auth/forgot_password/partials/confirm_email.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Восстановление пароля</h2><div class="md-subhead align-center max-width">Введите ваш email адрес. Вам будет отправлено письмо с дальнейшими инструкциями.</div><div class=form-wrap><form name=forgot_password.confirmEmailForm ng-submit=forgot_password.confirm_email()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{forgot_password.regExpEmail}} type=email name=email ng-model=forgot_password.user.email autofocus><div ng-messages=forgot_password.confirmEmailForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=forgot_password.errors.errors.email></span></div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class="md-primary md-raised">Продолжить</md-button></div></form></div></div>'),e.put("app/auth/forgot_password/partials/confirm_email_success.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Восстановление пароля</div><div class=md-subhead>Для изменения пароля вам было выслано письмо на почту с дальнейшими инструкциями. Обратите внимание, что письма иногда попадают в спам.</div></div></div>'),e.put("app/auth/forgot_password/partials/confirm_password.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1 ng-bind=forgot_password.title>Восстановление пароля</h2><div ng-bind=forgot_password.content class="md-subhead align-center">Введите новый пароль.</div><div ng-if=forgot_password.verify_status class=form-wrap><form name=forgot_password.confirmPasswordForm ng-submit=forgot_password.confirm_password()><md-input-container class=md-block><label>Пароль</label><input required input-errors type=password name=password minlength=6 ng-model=forgot_password.user.password autofocus><div ng-messages=forgot_password.confirmPasswordForm.password.$error><div ng-message=minlength>Пароль не может быть меньше 6 символов!</div><div ng-message=password><span ng-bind=forgot_password.errors.errors.password></span></div></div></md-input-container><md-input-container class=md-block><label>Повторите пароль</label><input required confirm-password type=password name=password_confirmation ng-model=forgot_password.user.password_confirmation autocomplete=new-password><div ng-messages=forgot_password.confirmPasswordForm.password_confirmation.$error><div ng-message=password_confirmation>Должно соответствовать паролю.</div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class="md-primary md-raised">Сохранить</md-button></div></form></div></div>'),e.put("app/auth/sign_in/partials/sign_in.html",'<div flex layout=column layout-align="center center" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Вход</h2><div class=form-wrap><form name=sign_in.signInForm ng-submit=sign_in.login()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{sign_in.regExpEmail}} type=email name=email ng-model=sign_in.user.email autofocus><div ng-messages=sign_in.signInForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=sign_in.errors.errors.email></span><a class=send-email-btn ng-click=sign_in.send_email() ng-if=sign_in.send_again>Отправить еще раз</a></div></div></md-input-container><md-input-container class="md-block mb-0"><label>Пароль</label><input required input-errors type=password name=password ng-model=sign_in.user.password><div ng-messages=sign_in.signInForm.password.$error><div ng-message=password><span ng-bind=sign_in.errors.errors.password></span></div></div></md-input-container><div class=forgot-password-btn><a ui-sref=confirm_email class=forgot_password>Забыли пароль?</a></div><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class="md-primary md-raised">Вход</md-button></div></form></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-8d0ee4cb87.js.map
