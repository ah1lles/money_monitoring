{"version":3,"sources":["scripts/app.js"],"names":["initApp","appConfig","db","firebase","database","rootRef","ref","urlBase","toString","angular","element","document","ready","appModule","constant","bootstrap","FBconfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appStart","module","initializeApp","auth","onAuthStateChanged","user","emailVerified","dashboardApi","DB","userId","uid","list","get","getRecord","recordId","addRecord","value","add","removeRecord","remove","updateRecord","update","deductionsList","getDeduction","deductionId","createDeduction","updateDeduction","removeDeduction","factory","$inject","$rootScope","$timeout","$q","url","preloaderActiveClass","deferred","defer","child","once","then","response","resolve","val","reject","promise","params","push","userMarks","addMark","removeMark","id","updateMark","Auth","$cookies","$state","login","email","password","signInWithEmailAndPassword","signUp","createUserWithEmailAndPassword","logout","signOut","getUser","currentUser","sendEmailVerification","error","applyActionCode","oobCode","verifyPasswordResetCode","sendPasswordResetEmail","confirmPasswordReset","SignUpController","$scope","$location","_","regExpEmail","outputErrors","determine_result","status","vm","verify_status","title","content","this","url_params","search","errors","createNew","email_errors","password_erros","registration","signUpForm","password_confirmation","$setValidity","equals","$invalid","expire_date","Date","setDate","getDate","put","expires","go","error_type","isNumber","code","split","contains","inputErrors","message","$apply","confirm_email","current","name","controller","SignInController","$mdToast","logged_user","$emit","send_again","send_email","show","simple","textContent","position","hideDelay","ForgotPasswordController","confirmEmailForm","confirm_password","confirmPasswordForm","setMinutes","getMinutes","toArray","create","obj","map","key","mainSidebar","restrict","replace","templateUrl","controllerAs","mdSidenavInit","directive","mainHeader","user_name","Preloader","class_preloader","querySelector","activation_class","openPreloader","addClass","closePreloader","removeClass","$get","provider","dateFilter","moment","defaultDateFormat","item","column","type","format","filter","$mdDialog","Errors","prototype","merge","$broadcast","alertDialog","cancel","alert","clickOutsideToClose","ok","require","link","scope","attrs","ctrls","addModelValidators","ngModel","$validators","input_name","modelValue","viewValue","form","$on","ev","has","$setTouched","flashMethods","createAlert","delay","template","alertSuccess","alertError","alertInfo","confirmPassword","regExp","$modelValue","$viewValue","SettingsController","navLinks","state","label","update_current_tab","currentState","current_item","findWhere","selectedIndex","indexOf","toState","routerConfig","$stateProvider","config","SettingsProfileController","SettingsMarksController","marks_list","mark","current_mark_id","choose_mark","markId","save_mark","saveMarkForm","copy","$setPristine","$setUntouched","remove_mark","stopPropagation","confirm","targetEvent","isEmail","verifyEmail","mode","checkCode","checkParamsCode","RecordController","$stateParams","defeult_total","m","submit_btn","add_total_input","months","years","current_months_index","month","new_record","total","days_in_month","daysInMonth","year","update_total","add_to_total","save_record","recordForm","$setSubmitted","sum_in_day","toFixed","created_at","startOf","toISOString","back","reload","DeductionsListController","search_term","current_mark","current_sort","columns","sort","searchParams","searchTerm","marksList","deductions","record","amounts","pluck","deductions_result","reduce","memo","num","deductions_residue","update_result","filtered_list","apply_sort","columnName","remove_deduction","searchFilter","date","result","each","toLowerCase","isValid","length","add_deduction","edit_deduction","DeductionController","deduction","from_state","from_params","set_deduction_date","picker_date","picker_min_date","_d","picker_max_date","endOf","toParams","fromState","fromParams","save_deduction","deductionForm","DashboardController","items_per_page","sum_amounts","get_sum_amounts","residue_from_total","keys","add_record","edit_record","deductions_list","close_dialog","remove_record","runBlock","preloaderClass","bool","headerHide","states_for_anonymous","preventDefault","run","$urlRouterProvider","userLogout","redirect","$window","absUrl","path","redirect_url","location","href","otherwise","$ingector","IndexController","$mdComponentRegistry","toggle","noop","isOpen","when","sideNav","bind","login_animation","httpProviderConfig","$logProvider","$httpProvider","debugEnabled","interceptors","beautifyInterceptor","request","requestError","res","responseError","materialThemeConfig","$mdThemingProvider","primaryBlueMap","extendPalette","500","600","accentGreenMap","A200","A700","contrastDefaultColor","warnRedMap","bgGreyMap","50","definePalette","theme","primaryPalette","accentPalette","warnPalette","backgroundPalette","datepickerConfig","$mdDateLocaleProvider","locale","shortMonths","monthsShort","days","weekdays","shortDays","weekdaysMin","firstDayOfWeek","formatDate","$templateCache"],"mappings":"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","file":"scripts/app-b0d3ed71d5.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  // Application config\r\n  var\r\n    FBconfig = {\r\n      apiKey:             \"AIzaSyC-Jr_rmAy_8i0S97WbWlDPwtDQf2UInUM\",\r\n      authDomain:         \"monitoring-37fdd.firebaseapp.com\",\r\n      databaseURL:        \"https://monitoring-37fdd.firebaseio.com\",\r\n      projectId:          \"monitoring-37fdd\",\r\n      storageBucket:      \"monitoring-37fdd.appspot.com\",\r\n      messagingSenderId:  \"375917001440\"\r\n    },\r\n    appConfig = {},\r\n    appStart  = false,\r\n    appModule = angular.module('moneyMonitoring', ['ngAnimate', 'ngCookies', 'ngSanitize', 'ngMessages', 'ngAria', 'ui.router', 'ngMaterial', 'toastr', 'angularUtils.directives.dirPagination']);\r\n\r\n  // Initialize Firebase\r\n  firebase.initializeApp(FBconfig);\r\n\r\n  // User auth state change callback\r\n  firebase.auth().onAuthStateChanged(function(user) {\r\n    appConfig.user = user ? (user.emailVerified ? user : null) : null;\r\n\r\n    if (!appStart) {\r\n      initApp();\r\n      appStart = true;\r\n    }\r\n  });\r\n\r\n  function initApp() {\r\n    appConfig.db       = firebase.database(),\r\n    appConfig.rootRef  = appConfig.db.ref(),\r\n    appConfig.urlBase  = appConfig.rootRef.toString();\r\n\r\n    angular.element(document).ready(function() {\r\n      appModule.constant('appConfig', appConfig);\r\n      angular.bootstrap(document, ['moneyMonitoring']);\r\n    });\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('dashboardApi', dashboardApi);\r\n\r\n  dashboardApi.$inject = ['appConfig', 'DB'];\r\n\r\n  function dashboardApi(appConfig, DB) {\r\n\r\n    var\r\n      dashboardApi = {},\r\n      userId = appConfig.user.uid;\r\n\r\n    dashboardApi.list = function() {\r\n      return DB.get('users/' + userId + '/list');\r\n    }\r\n\r\n    dashboardApi.getRecord = function(recordId) {\r\n      return DB.get('users/' + userId + '/list/' + recordId);\r\n    }\r\n\r\n    dashboardApi.addRecord = function(value) {\r\n      return DB.add('users/' + userId + '/list', value);\r\n    }\r\n\r\n    dashboardApi.removeRecord = function(recordId) {\r\n      return DB.remove('users/' + userId + '/list/' + recordId);\r\n    }\r\n\r\n    dashboardApi.updateRecord = function(recordId, value) {\r\n      return DB.update('users/' + userId + '/list/' + recordId, value);\r\n    }\r\n\r\n    dashboardApi.deductionsList = function(recordId) {\r\n      return DB.get('users/' + userId + '/list/' + recordId + '/deductions');\r\n    }\r\n\r\n    dashboardApi.getDeduction = function(recordId, deductionId) {\r\n      return DB.get('users/' + userId + '/list/' + recordId + '/deductions/' + deductionId);\r\n    }\r\n\r\n    dashboardApi.createDeduction = function(recordId, value) {\r\n      return DB.add('users/' + userId + '/list/' + recordId + '/deductions', value);\r\n    }\r\n\r\n    dashboardApi.updateDeduction = function(recordId, deductionId, value) {\r\n      return DB.update('users/' + userId + '/list/' + recordId + '/deductions/' + deductionId, value);\r\n    }\r\n\r\n    dashboardApi.removeDeduction = function(recordId, deductionId) {\r\n      return DB.remove('users/' + userId + '/list/' + recordId + '/deductions/' + deductionId);\r\n    }\r\n\r\n    return dashboardApi;\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('DB', DB);\r\n\r\n  DB.$inject = ['$rootScope', '$timeout', 'appConfig', '$q'];\r\n\r\n  function DB($rootScope, $timeout, appConfig, $q) {\r\n\r\n    var DB = {};\r\n\r\n    DB.get = function(url) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var deferred = $q.defer();\r\n\r\n      appConfig.rootRef.child(url).once('value').then(\r\n        function(response) {\r\n          deferred.resolve(response.val());\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    DB.add = function(url, params) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var\r\n        deferred = $q.defer(),\r\n        ref      = appConfig.db.ref(url);\r\n\r\n      ref.push(params).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    DB.remove = function(url) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var\r\n        deferred = $q.defer(),\r\n        ref      = appConfig.db.ref(url);\r\n\r\n      ref.remove().then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    DB.update = function(url, params) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var\r\n        deferred = $q.defer(),\r\n        ref      = appConfig.db.ref(url);\r\n\r\n      ref.update(params).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    return DB;\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('userMarks', userMarks);\r\n\r\n  userMarks.$inject = ['appConfig', 'DB'];\r\n\r\n  function userMarks(appConfig, DB) {\r\n\r\n    var\r\n      userMarks = {},\r\n      userId = appConfig.user.uid;\r\n\r\n    userMarks.list = function() {\r\n      return DB.get('users/' + userId + '/marks');\r\n    }\r\n\r\n    userMarks.addMark = function(value) {\r\n      return DB.add('users/' + userId + '/marks', value);\r\n    }\r\n\r\n    userMarks.removeMark = function(id) {\r\n      return DB.remove('users/' + userId + '/marks/' + id);\r\n    }\r\n\r\n    userMarks.updateMark = function(id, value) {\r\n      return DB.update('users/' + userId + '/marks/' + id, value);\r\n    }\r\n\r\n\r\n    return userMarks;\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('Auth', Auth);\r\n\r\n  Auth.$inject = ['$cookies', '$state', 'firebase', '$q'];\r\n\r\n  function Auth($cookies, $state, firebase, $q) {\r\n\r\n    var Auth = {};\r\n\r\n    Auth.login = function(email, password) {\r\n      return firebase.auth().signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    Auth.signUp = function(email, password) {\r\n      return firebase.auth().createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    Auth.logout = function() {\r\n      return firebase.auth().signOut();\r\n    }\r\n\r\n    Auth.getUser = function() {\r\n      return firebase.auth().currentUser;\r\n    }\r\n\r\n    Auth.sendEmailVerification = function(user) {\r\n      var\r\n        user     = user || Auth.getUser(),\r\n        deferred = $q.defer();\r\n\r\n      user.sendEmailVerification().then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.applyActionCode = function(oobCode) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().applyActionCode(oobCode).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.verifyPasswordResetCode = function(oobCode) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().verifyPasswordResetCode(oobCode).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.sendPasswordResetEmail = function(email) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().sendPasswordResetEmail(email).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.confirmPasswordReset = function(oobCode, password) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().confirmPasswordReset(oobCode, password).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    return Auth;\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SignUpController', SignUpController);\r\n\r\n  SignUpController.$inject = ['$scope', '$state', '$cookies', '$location', 'Auth', '_', 'regExpEmail', 'outputErrors'];\r\n\r\n  function SignUpController($scope, $state, $cookies, $location, Auth, _, regExpEmail, outputErrors) {\r\n\r\n    var\r\n      vm          = this,\r\n      url_params  = $location.search(),\r\n      oobCode     = url_params.oobCode;\r\n\r\n    vm.user           = {};\r\n    vm.regExpEmail    = regExpEmail;\r\n    vm.errors         = outputErrors.createNew();\r\n    vm.email_errors   = ['email-already-in-use', 'user-not-found', 'invalid-email'];\r\n    vm.password_erros = ['wrong-password', 'weak-password'];\r\n\r\n    vm.registration = function() {\r\n      vm.signUpForm.password_confirmation.$setValidity('password_confirmation', angular.equals(vm.user.password, vm.user.password_confirmation));\r\n\r\n      if (vm.signUpForm.$invalid) return;\r\n\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.signUp(vm.user.email, vm.user.password).then(\r\n        function(response) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          Auth.sendEmailVerification().then(\r\n            function() {\r\n              var expire_date = new Date();\r\n              expire_date.setDate(expire_date.getDate() + 1);\r\n\r\n              $cookies.put('confirmation_send', 'true', {'expires': expire_date});\r\n              $state.go('confirmation_email');\r\n            }\r\n          );\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = _.isNumber(error.code) ? 'weak-password' : error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.email_errors, error_type))\r\n            vm.errors.inputErrors({email: error.message});\r\n          else if (_.contains(vm.password_erros, error_type))\r\n            vm.errors.inputErrors({password: error.message});\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.confirm_email = function() {\r\n      Auth.applyActionCode(oobCode).then(\r\n        function(response) {\r\n          determine_result(true);\r\n        },\r\n        function(error) {\r\n          determine_result(false);\r\n        }\r\n      );\r\n    }\r\n\r\n    function determine_result(status) {\r\n      vm.verify_status = status;\r\n      vm.title   = status ? 'Регистрация завершена!' : 'Извините, произошла ошибка!';\r\n      vm.content = status ? 'Ваша почта подтверждена. Теперь вы можете войти.' : 'Данная ссылка уже не доступна. Либо вы уже подтвердили вашу почту, либо истек срок действия данной ссылки.';\r\n    }\r\n\r\n    if (oobCode && $state.current.name === 'verify_email') {\r\n      vm.confirm_email();\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SignInController', SignInController);\r\n\r\n  SignInController.$inject = ['$scope', '$state', '$timeout', '$cookies', 'Auth', 'regExpEmail', 'outputErrors', '$mdToast'];\r\n\r\n  function SignInController($scope, $state, $timeout, $cookies, Auth, regExpEmail, outputErrors, $mdToast) {\r\n\r\n    var vm = this;\r\n\r\n    vm.user           = {};\r\n    vm.regExpEmail    = regExpEmail;\r\n    vm.errors         = outputErrors.createNew();\r\n    vm.email_errors   = ['user-not-found', 'invalid-email'];\r\n    vm.password_erros = ['wrong-password', 'weak-password'];\r\n\r\n    vm.login = function() {\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.login(vm.user.email, vm.user.password).then(\r\n        function(response) {\r\n          vm.logged_user = Auth.getUser();\r\n\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          if (!vm.logged_user.emailVerified) {\r\n            vm.errors.inputErrors({email: 'Email адрес не подтвержден. Проверте почту.'});\r\n            vm.send_again = $cookies.get('confirmation_send') ? false : true;\r\n            $timeout(function() { Auth.logout(); }, 100);\r\n          } else {\r\n            $scope.$emit('login_animation');\r\n            $state.go('dashboard');\r\n          }\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.email_errors, error_type))\r\n            vm.errors.inputErrors({email: error.message});\r\n          else if (_.contains(vm.password_erros, error_type))\r\n            vm.errors.inputErrors({password: error.message});\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.send_email = function() {\r\n      Auth.sendEmailVerification(vm.logged_user).then(\r\n        function(response) {\r\n          var expire_date = new Date();\r\n          expire_date.setDate(expire_date.getDate() + 1);\r\n\r\n          vm.send_again = false;\r\n\r\n          $cookies.put('confirmation_send', 'true', {'expires': expire_date});\r\n\r\n          $mdToast.show(\r\n            $mdToast.simple()\r\n              .textContent('Сообщение отправлено! Проверте почту.')\r\n              .position('top right')\r\n              .hideDelay(5000)\r\n          );\r\n        },\r\n        function(error) {\r\n          $mdToast.show(\r\n            $mdToast.simple()\r\n              .textContent('Ошибка! Сообщение не отправлено.')\r\n              .position('top right')\r\n              .hideDelay(5000)\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('ForgotPasswordController', ForgotPasswordController);\r\n\r\n  ForgotPasswordController.$inject = ['$scope', '$state', '$location', '$cookies', '$timeout', 'Auth', 'regExpEmail', 'outputErrors', '$mdToast'];\r\n\r\n  function ForgotPasswordController($scope, $state, $location, $cookies, $timeout, Auth, regExpEmail, outputErrors, $mdToast) {\r\n\r\n    var\r\n      vm = this,\r\n      url_params = $location.search(),\r\n      oobCode    = url_params.oobCode;\r\n\r\n    vm.user = {};\r\n    vm.regExpEmail    = regExpEmail;\r\n    vm.email_errors   = ['user-not-found', 'invalid-email'];\r\n    vm.password_erros = ['wrong-password', 'weak-password'];\r\n    vm.errors         = outputErrors.createNew();\r\n\r\n    function determine_result(status) {\r\n      vm.verify_status = status;\r\n      vm.title   = status ? 'Восстановление пароля' : 'Извините, произошла ошибка!';\r\n      vm.content = status ? 'Введите новый пароль.' : 'Данная ссылка уже не доступна.';\r\n    }\r\n\r\n    if (oobCode) {\r\n      Auth.verifyPasswordResetCode(oobCode).then(\r\n        function(response) {\r\n          determine_result(true)\r\n        },\r\n        function(error) {\r\n          determine_result(false);\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.confirm_email = function() {\r\n      if (vm.confirmEmailForm.$invalid) return;\r\n\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.sendPasswordResetEmail(vm.user.email)\r\n        .then(function(response) {\r\n          $scope.preloaderActiveClass(false);\r\n          $cookies.put('email_confirmation', 'true');\r\n          $state.go('confirm_email_success');\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.email_errors, error_type)) {\r\n            vm.errors.inputErrors({email: error.message});\r\n          } else {\r\n            $mdToast.show(\r\n              $mdToast.simple()\r\n                .textContent(error.message || 'Произошла ошибка!')\r\n                .position('top right')\r\n                .hideDelay(10000)\r\n            );\r\n          }\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.confirm_password = function() {\r\n      vm.confirmPasswordForm.password_confirmation.$setValidity('password_confirmation', angular.equals(vm.user.password, vm.user.password_confirmation));\r\n\r\n      if (vm.confirmPasswordForm.$invalid) return;\r\n\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.confirmPasswordReset(oobCode, vm.user.password).then(\r\n        function(response) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var expire_date = new Date();\r\n          expire_date.setMinutes(expire_date.getMinutes() + 2);\r\n\r\n          $cookies.put('change_password', 'true', {'expires': expire_date});\r\n          $state.go('change_password_success');\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = _.isNumber(error.code) ? 'weak-password' : error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.password_erros, error_type))\r\n            vm.errors.inputErrors({password: error.message});\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('toArray', toArray);\r\n\r\n  toArray.$inject = ['_'];\r\n\r\n  function toArray(_) {\r\n\r\n    var\r\n      toArray = {};\r\n\r\n    toArray.create = function(obj) {\r\n      return _.map(obj, function(value, key) {\r\n        value.id = key;\r\n        return value;\r\n      });\r\n    }\r\n\r\n    return toArray;\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('mainSidebar', mainSidebar);\r\n\r\n  mainSidebar.$inject = [];\r\n\r\n  function mainSidebar() {\r\n    return {\r\n      restrict: 'E',\r\n      replace: true,\r\n      templateUrl: 'app/components/sidebar/sidebar.html',\r\n      controllerAs: 'sidebar',\r\n      controller: function($scope) {\r\n        $scope.mdSidenavInit();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('mainHeader', mainHeader);\r\n\r\n  mainHeader.$inject = ['appConfig'];\r\n\r\n  function mainHeader(appConfig) {\r\n    return {\r\n      restrict: 'E',\r\n      replace: true,\r\n      templateUrl: 'app/components/header/header.html',\r\n      controllerAs: 'header',\r\n      controller: function() {\r\n        var vm = this;\r\n\r\n        vm.user_name = appConfig.user.name;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    provider('Preloader', Preloader);\r\n\r\n  function Preloader() {\r\n    var\r\n      class_preloader = '.la-anim-10',\r\n      element = angular.element(document.querySelector(class_preloader)),\r\n      activation_class = 'la-animate',\r\n      Preloader = {};\r\n\r\n    Preloader.openPreloader = function(){\r\n      element.addClass(activation_class);\r\n    }\r\n\r\n    Preloader.closePreloader = function(){\r\n      element.removeClass(activation_class);\r\n    }\r\n\r\n    this.$get = function(){\r\n      return Preloader;\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .filter('dateFilter', dateFilter);\r\n\r\n  /** @ngInject */\r\n  function dateFilter(moment, defaultDateFormat) {\r\n    return function(item, column) {\r\n      return column && column.type === 'date' ? moment(item).format(column.format || defaultDateFormat) : item;\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('outputErrors', outputErrors);\r\n\r\n  outputErrors.$inject = ['$rootScope', '$mdDialog', '_'];\r\n\r\n  function outputErrors($rootScope, $mdDialog, _) {\r\n\r\n    var\r\n      outputErrors = {};\r\n\r\n    function Errors() {\r\n      this.errors = {};\r\n    }\r\n\r\n    Errors.prototype.inputErrors = function(errors) {\r\n      this.errors = angular.merge({}, errors);\r\n      $rootScope.$broadcast('$errors', this.errors);\r\n    }\r\n\r\n    Errors.prototype.alertDialog = function(errors) {\r\n      var\r\n        title   = 'Ошибка!',\r\n        cancel  = 'Закрыть',\r\n        message = errors || 'Что-то пошло не так...',\r\n        result  = '';\r\n\r\n      return $mdDialog.show(\r\n        $mdDialog.alert()\r\n          .clickOutsideToClose(true)\r\n          .title(title)\r\n          .textContent(message)\r\n          .ok(cancel)\r\n      );\r\n    }\r\n\r\n    outputErrors.createNew = function() {\r\n      return new Errors();\r\n    }\r\n\r\n    return outputErrors;\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('inputErrors', inputErrors);\r\n\r\n  inputErrors.$inject = [];\r\n\r\n  function inputErrors() {\r\n    return {\r\n      restrict: 'A',\r\n      require: ['?ngModel', '^?form'],\r\n      link: function(scope, element, attrs, ctrls) {\r\n\r\n        var\r\n          form       = ctrls[1],\r\n          input_name = attrs.name,\r\n          ngModel;\r\n\r\n        if (!form) return;\r\n\r\n        ngModel = ctrls[0] || form[input_name];\r\n\r\n        function addModelValidators() {\r\n          if (!ngModel) return;\r\n\r\n          ngModel.$validators[input_name] = function(modelValue, viewValue) {\r\n            return true;\r\n          }\r\n        }\r\n\r\n        addModelValidators();\r\n\r\n        scope.$on('$errors', function(ev, errors) {\r\n          if (!ngModel) return;\r\n\r\n          ngModel.$setValidity(input_name, !_.has(errors, input_name));\r\n          ngModel.$setTouched();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('flashMethods', flashMethods);\r\n\r\n  flashMethods.$inject = ['$rootScope', '$mdToast', '_'];\r\n\r\n  function flashMethods($rootScope, $mdToast, _) {\r\n\r\n    var\r\n      flashMethods = {};\r\n\r\n    flashMethods.createAlert = function(type, message, delay, position) {\r\n      return $mdToast.show({\r\n          template  : '<md-toast class=\"md-toast ' + type +'\"><div class=\"md-toast-content\">' + message + '</div></md-toast>',\r\n          hideDelay : delay || 3000,\r\n          position  : position || 'top right'\r\n        }\r\n      );\r\n    }\r\n\r\n    flashMethods.alertSuccess = function(message, delay, position) {\r\n      return flashMethods.createAlert('success', message, delay, position);\r\n    }\r\n\r\n    flashMethods.alertError = function(message, delay, position) {\r\n      return flashMethods.createAlert('error', message, delay, position);\r\n    }\r\n\r\n    flashMethods.alertInfo = function(message, delay, position) {\r\n      return flashMethods.createAlert('info', message, delay, position);\r\n    }\r\n\r\n    return flashMethods;\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('confirmPassword', confirmPassword);\r\n\r\n  confirmPassword.$inject = [];\r\n\r\n  function confirmPassword() {\r\n    return {\r\n      restrict: 'A',\r\n      require: ['?ngModel', '^?form'],\r\n      scope: {\r\n        regExp: '@'\r\n      },\r\n      link: function(scope, element, attrs, ctrls) {\r\n\r\n        var\r\n          form = ctrls[1],\r\n          ngModel;\r\n\r\n        if (!form) return;\r\n\r\n        ngModel = ctrls[0] || form[attrs.name];\r\n\r\n        if (ngModel) {\r\n          ngModel.$validators.password_confirmation = function(modelValue, viewValue) {\r\n            var\r\n              value    = modelValue || viewValue,\r\n              password = form.password.$modelValue || form.password.$viewValue;\r\n\r\n            return value === password;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SettingsController', SettingsController);\r\n\r\n  SettingsController.$inject = ['$scope', '$state', '$mdDialog', 'flashMethods'];\r\n\r\n  function SettingsController($scope, $state,  $mdDialog, flashMethods) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.navLinks = [\r\n      {\r\n        state: 'settings.profile',\r\n        label: 'Профиль'\r\n      },\r\n      {\r\n        state: 'settings.marks',\r\n        label: 'Настройка меток'\r\n      }\r\n    ];\r\n\r\n    vm.update_current_tab = function(currentState) {\r\n      vm.current_item  = _.findWhere(vm.navLinks, {state: currentState});\r\n      vm.selectedIndex = vm.navLinks.indexOf(vm.current_item);\r\n    }\r\n\r\n    vm.update_current_tab($state.current.name);\r\n\r\n    $scope.$on('$stateChangeSuccess', function(ev, toState) {\r\n      vm.update_current_tab(toState.name);\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('settings', {\r\n        url: '/settings',\r\n        templateUrl: 'app/settings/partials/settings.html',\r\n        controller: 'SettingsController',\r\n        controllerAs: 'settings'\r\n      })\r\n      .state('settings.profile', {\r\n        url: '/profile',\r\n        templateUrl: 'app/settings/partials/profile.html',\r\n        controller: 'SettingsProfileController',\r\n        controllerAs: 'profile'\r\n      })\r\n      .state('settings.marks', {\r\n        url: '/marks',\r\n        templateUrl: 'app/settings/partials/marks.html',\r\n        controller: 'SettingsMarksController',\r\n        controllerAs: 'marks'\r\n      });\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SettingsProfileController', SettingsProfileController);\r\n\r\n  SettingsProfileController.$inject = ['$scope', '$state', '$mdDialog', 'flashMethods'];\r\n\r\n  function SettingsProfileController($scope, $state,  $mdDialog, flashMethods) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    \r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SettingsMarksController', SettingsMarksController);\r\n\r\n  SettingsMarksController.$inject = ['$scope', '$state', '$mdDialog', 'flashMethods', 'userMarks'];\r\n\r\n  function SettingsMarksController($scope, $state,  $mdDialog, flashMethods, userMarks) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.marks_list       = {};\r\n    vm.mark             = {};\r\n    vm.current_mark_id  = '';\r\n\r\n    userMarks.list().then(\r\n      function(response) {\r\n        vm.marks_list = response || {};\r\n      },\r\n      function() {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.choose_mark = function(markId) {\r\n      vm.current_mark_id  = vm.current_mark_id !== markId ? markId : '';\r\n      vm.mark             = vm.current_mark_id ? vm.marks_list[vm.current_mark_id] : {};\r\n    }\r\n\r\n    vm.save_mark = function() {\r\n      if (vm.saveMarkForm.$invalid) return;\r\n\r\n      if (vm.current_mark_id) {\r\n        userMarks.updateMark(vm.current_mark_id, vm.mark).then(\r\n          function() {\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      } else {\r\n        userMarks.addMark(vm.mark).then(\r\n          function(response) {\r\n            vm.marks_list[response.key] = angular.copy(vm.mark);\r\n            vm.mark = {};\r\n            vm.saveMarkForm.$setPristine();\r\n            vm.saveMarkForm.$setUntouched();\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    vm.remove_mark = function(id, mark, ev) {\r\n      ev.stopPropagation();\r\n\r\n      var\r\n        confirm = $mdDialog.confirm()\r\n            .title('Удаление метки')\r\n            .textContent('Вы уверены, что хотите удалить метку \"' + mark.name + '\"?')\r\n            .targetEvent(ev)\r\n            .clickOutsideToClose(true)\r\n            .ok('Удалить')\r\n            .cancel('Нет');\r\n\r\n      $mdDialog.show(confirm).then(\r\n        function() {\r\n          userMarks.removeMark(id).then(\r\n            function(response) {\r\n              delete vm.marks_list[id];\r\n              if (vm.current_mark_id === id) {\r\n                vm.mark = {};\r\n                vm.saveMarkForm.$setPristine();\r\n                vm.saveMarkForm.$setUntouched();\r\n              }\r\n              flashMethods.alertSuccess('Метка была успешно удалена!');\r\n            },\r\n            function(response) {\r\n              flashMethods.alertError('Извините, произошла ошибка!');\r\n            }\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('sign_in', {\r\n        url: '/sign_in',\r\n        templateUrl: 'app/auth/sign_in/partials/sign_in.html',\r\n        controller: 'SignInController',\r\n        controllerAs: 'sign_in'\r\n      })\r\n      .state('sign_up', {\r\n        url: '/sign_up',\r\n        templateUrl: 'app/auth/sign_up/partials/sign_up.html',\r\n        controller: 'SignUpController',\r\n        controllerAs: 'sign_up'\r\n      })\r\n      .state('confirmation_email', {\r\n        url: '/sign_up/confirmation_email',\r\n        templateUrl: 'app/auth/sign_up/partials/confirmation_email.html',\r\n        resolve: {\r\n          isEmail: function($state, $timeout, $cookies, $q) {\r\n            var deferred = $q.defer();\r\n\r\n            if ($cookies.get('confirmation_send')) {\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('verify_email', {\r\n        url: '/sign_up/verify_email',\r\n        templateUrl: 'app/auth/sign_up/partials/verify_email.html',\r\n        controller: 'SignUpController',\r\n        controllerAs: 'sign_up',\r\n        resolve: {\r\n          verifyEmail: function($state, $timeout, $cookies, $location, $q) {\r\n            var\r\n              deferred   = $q.defer(),\r\n              url_params = $location.search(),\r\n              mode       = url_params.mode;\r\n\r\n            if (url_params.oobCode && mode === 'verifyEmail') {\r\n              $cookies.remove('confirmation_send');\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('confirm_email', {\r\n        url: '/confirm_email',\r\n        templateUrl: 'app/auth/forgot_password/partials/confirm_email.html',\r\n        controller: 'ForgotPasswordController',\r\n        controllerAs: 'forgot_password'\r\n      })\r\n      .state('confirm_password', {\r\n        url: '/change_password',\r\n        templateUrl: 'app/auth/forgot_password/partials/confirm_password.html',\r\n        controller: 'ForgotPasswordController',\r\n        controllerAs: 'forgot_password',\r\n        resolve: {\r\n          checkCode: function($state, $timeout, $location, $q) {\r\n            var\r\n              deferred   = $q.defer(),\r\n              url_params = $location.search(),\r\n              mode       = url_params.mode;\r\n\r\n            if (url_params.oobCode && mode === 'resetPassword') {\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('confirm_email_success', {\r\n        url: '/confirm_email_success',\r\n        templateUrl: 'app/auth/forgot_password/partials/confirm_email_success.html',\r\n        resolve: {\r\n          checkParamsCode: function($state, $timeout, $cookies, $q) {\r\n            var deferred = $q.defer();\r\n\r\n            if ($cookies.get('email_confirmation')) {\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('change_password_success', {\r\n        url: '/change_password_success',\r\n        templateUrl: 'app/auth/forgot_password/partials/change_success.html',\r\n        resolve: {\r\n          checkParamsCode: function($state, $timeout, $cookies, $q) {\r\n            var deferred = $q.defer();\r\n\r\n            if ($cookies.get('change_password')) {\r\n              $cookies.remove('email_confirmation');\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('dashboard', {\r\n        url: '/dashboard',\r\n        templateUrl: 'app/dashboard/partials/dashboard.html',\r\n        controller: 'DashboardController',\r\n        controllerAs: 'dashboard'\r\n      })\r\n      .state('dashboard.record', {\r\n        url: '/record/:recordId',\r\n        templateUrl: 'app/dashboard/partials/record.html',\r\n        controller: 'RecordController',\r\n        controllerAs: 'record'\r\n      })\r\n      .state('dashboard.deductions_list', {\r\n        url: '/record/:recordId/deductions',\r\n        templateUrl: 'app/dashboard/partials/deductions_list.html',\r\n        controller: 'DeductionsListController',\r\n        controllerAs: 'deductions_list'\r\n      })\r\n      .state('dashboard.deduction', {\r\n        url: '/record/:recordId/deductions/:deductionId',\r\n        templateUrl: 'app/dashboard/partials/deduction.html',\r\n        controller: 'DeductionController',\r\n        controllerAs: 'deduction'\r\n      });\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('RecordController', RecordController);\r\n\r\n  RecordController.$inject = ['$scope', '$state', '$stateParams', '$mdDialog', 'dashboardApi', 'flashMethods', 'moment', '_'];\r\n\r\n  function RecordController($scope, $state, $stateParams, $mdDialog, dashboardApi, flashMethods, moment, _) {\r\n\r\n    var\r\n      vm = this,\r\n      m  = moment(),\r\n      defeult_total;\r\n\r\n    vm.title                 = $stateParams.recordId ? 'Редактировать запись' : 'Создать запись';\r\n    vm.submit_btn            = $stateParams.recordId ? 'Сохранить' : 'Создать';\r\n    vm.add_total_input       = $stateParams.recordId ? true : false;\r\n    vm.months                = moment.months();\r\n    vm.years                 = [2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025, 2026];\r\n    vm.current_months_index  = m.month();\r\n    vm.new_record            = {};\r\n\r\n    if (!$stateParams.recordId) {\r\n      vm.new_record.month          = vm.months[vm.current_months_index];\r\n      vm.new_record.days_in_month  = m.daysInMonth();\r\n      vm.new_record.year           = m.year();\r\n    } else {\r\n      dashboardApi.getRecord($stateParams.recordId).then(\r\n        function(response) {\r\n          vm.new_record = response || {};\r\n          defeult_total = vm.new_record.total;\r\n        },\r\n        function(response) {\r\n          flashMethods.alertError('Извините, произошла ошибка!');\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.update_total = function() {\r\n      vm.new_record.total = vm.add_to_total ? (vm.new_record.total + vm.add_to_total) : defeult_total;\r\n    }\r\n\r\n    vm.save_record = function() {\r\n      vm.recordForm.$setSubmitted();\r\n\r\n      if (vm.recordForm.$invalid) return;\r\n\r\n      var m = moment(vm.new_record.year + '-' + (vm.months.indexOf(vm.new_record.month) + 1), 'YYYY-MM');\r\n\r\n      vm.new_record.days_in_month  = m.daysInMonth();\r\n      vm.new_record.sum_in_day     = (vm.new_record.total / vm.new_record.days_in_month).toFixed(2);\r\n\r\n      if ($stateParams.recordId) {\r\n        dashboardApi.updateRecord($stateParams.recordId, vm.new_record).then(\r\n          function(response) {\r\n            defeult_total   = vm.new_record.total;\r\n            vm.add_to_total = null;\r\n            flashMethods.alertSuccess('Запись была успешно обновлена!');\r\n          },\r\n          function(response) {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      } else {\r\n        vm.new_record.created_at = m.startOf('month').toISOString();\r\n\r\n        dashboardApi.addRecord(vm.new_record).then(\r\n          function(response) {\r\n            vm.back();\r\n            flashMethods.alertSuccess('Запись была успешно создана!');\r\n          },\r\n          function(response) {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      }\r\n\r\n    }\r\n\r\n    vm.back = function() {\r\n      $state.go('dashboard', null, {reload: true});\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('DeductionsListController', DeductionsListController);\r\n\r\n  DeductionsListController.$inject = ['$scope', '$state', '$timeout', '$stateParams', '$mdDialog', 'dashboardApi', 'flashMethods', 'userMarks', 'moment',  'toArray', 'defaultDateFormat', '_'];\r\n\r\n  function DeductionsListController($scope, $state, $timeout, $stateParams, $mdDialog, dashboardApi, flashMethods, userMarks, moment, toArray, defaultDateFormat, _) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.list         = [];\r\n    vm.marks_list   = [];\r\n    vm.search_term  = '';\r\n    vm.current_mark = null;\r\n\r\n    vm.current_sort = {\r\n      column: 'created_at'\r\n    };\r\n\r\n    vm.columns = [\r\n      {\r\n        name: 'created_at',\r\n        label: 'Дата',\r\n        type: 'date'\r\n      },\r\n      {\r\n        name: 'mark',\r\n        label: 'Метка',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'description',\r\n        label: 'Описание',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'amount',\r\n        label: 'Сумма',\r\n        type: 'integer',\r\n        sort: true\r\n      }\r\n    ];\r\n\r\n    vm.searchParams = {\r\n      searchTerm: '',\r\n      marksList: {},\r\n      format: defaultDateFormat\r\n    };\r\n\r\n    dashboardApi.getRecord($stateParams.recordId).then(\r\n      function(response) {\r\n        vm.list    = toArray.create(response.deductions);\r\n        vm.title   = 'Список вычетов на ' + response.month;\r\n        vm.record  = response || {};\r\n\r\n        var amounts = _.pluck(vm.list, 'amount');\r\n        vm.deductions_result   = _.reduce(amounts, function(memo, num){ return memo + num; }, 0);\r\n        vm.deductions_residue  = vm.record.total - vm.deductions_result;\r\n      },\r\n      function(response) {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    userMarks.list().then(\r\n      function(response) {\r\n        vm.marks_list               = response || {};\r\n        vm.searchParams.marksList   = vm.marks_list;\r\n      },\r\n      function() {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.update_result = function() {\r\n      $timeout(function() {\r\n        var amounts = _.pluck($scope.filtered_list, 'amount');\r\n        vm.deductions_result   = _.reduce(amounts, function(memo, num){ return memo + num; }, 0);\r\n        vm.deductions_residue  = vm.record.total - vm.deductions_result;\r\n      }, 0);\r\n    }\r\n\r\n    vm.apply_sort = function(columnName) {\r\n      if (vm.current_sort.name !== columnName)\r\n        vm.current_sort.type   = '';\r\n\r\n      vm.current_sort.type    = vm.current_sort.type ? (vm.current_sort.type === 'asc' ? 'desc': '') : 'asc';\r\n      vm.current_sort.column  = vm.current_sort.type === 'desc' ? '-' + columnName : columnName;\r\n      vm.current_sort.name    = columnName;\r\n\r\n      if (!vm.current_sort.type)\r\n        vm.current_sort.column = 'created_at';\r\n    }\r\n\r\n    vm.remove_deduction = function(deductionId, ev) {\r\n      var\r\n        confirm = $mdDialog.confirm()\r\n            .title('Удаление вычета')\r\n            .textContent('Вы уверены, что хотите удалить данный вычет?')\r\n            .targetEvent(ev)\r\n            .clickOutsideToClose(true)\r\n            .ok('Удалить')\r\n            .cancel('Нет');\r\n\r\n      $mdDialog.show(confirm).then(\r\n        function() {\r\n          dashboardApi.removeDeduction($stateParams.recordId, deductionId).then(\r\n            function(response) {\r\n              vm.list = _.reject(vm.list, {id: deductionId});\r\n              flashMethods.alertSuccess('Вычет успешно удален!');\r\n            },\r\n            function(response) {\r\n              flashMethods.alertError('Извините, произошла ошибка!');\r\n            }\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.searchFilter = function(params) {\r\n      return function(item) {\r\n        if (!params.searchTerm) return true;\r\n        var result = [], mark, m, date;\r\n\r\n        _.each(item, function(value, key) {\r\n          if (key === '$$hashKey' || key === 'id') return;\r\n\r\n          if (key === 'mark') {\r\n            mark = params.marksList[value];\r\n            if (mark) {\r\n              if (~mark.name.toLowerCase().indexOf(params.searchTerm.toLowerCase()))\r\n                result.push(key);\r\n            }\r\n          } else if (key === 'created_at') {\r\n            m     = moment(value),\r\n            date  = m.isValid() ? m.format(params.format) : value;\r\n\r\n            if (~date.indexOf(params.searchTerm))\r\n              result.push(key);\r\n          } else {\r\n            if (~value.toString().indexOf(params.searchTerm)) {\r\n              result.push(key);\r\n            }\r\n          }\r\n        });\r\n\r\n        return result.length;\r\n      }\r\n    }\r\n\r\n    vm.back = function() {\r\n      $state.go('dashboard', null, {reload: true});\r\n    }\r\n\r\n    vm.add_deduction = function() {\r\n      $state.go('dashboard.deduction', {recordId: $stateParams.recordId});\r\n    }\r\n\r\n    vm.edit_deduction = function(deductionId) {\r\n      $state.go('dashboard.deduction', {recordId: $stateParams.recordId, deductionId: deductionId});\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('DeductionController', DeductionController);\r\n\r\n  DeductionController.$inject = ['$scope', '$state', '$stateParams', '$mdDialog', 'dashboardApi', 'flashMethods', 'moment', 'userMarks', '_'];\r\n\r\n  function DeductionController($scope, $state, $stateParams, $mdDialog, dashboardApi, flashMethods, moment, userMarks, _) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.title           = $stateParams.deductionId ? 'Редактировать вычет' : 'Создать вычет';\r\n    vm.submit_btn      = $stateParams.deductionId ? 'Сохранить' : 'Создать';\r\n    vm.deduction       = {};\r\n    vm.marks_list      = {};\r\n    vm.from_state      = '';\r\n    vm.from_params     = null;\r\n\r\n    vm.back = function() {\r\n      $state.go(vm.from_state, vm.from_params, {reload: true});\r\n    }\r\n\r\n    vm.set_deduction_date = function() {\r\n      vm.deduction.created_at = vm.picker_date.toISOString();\r\n    }\r\n\r\n    if (!$stateParams.deductionId) {\r\n      vm.picker_date     = new Date();\r\n      vm.picker_min_date = moment().startOf('month')._d;\r\n      vm.picker_max_date = moment().endOf('month')._d;\r\n\r\n      vm.set_deduction_date();\r\n    }\r\n\r\n    $scope.$on('$stateChangeSuccess', function(ev, toState, toParams, fromState, fromParams) {\r\n      vm.from_state = fromState.name || 'dashboard';\r\n      vm.from_params = toParams.recordId ? {recordId: toParams.recordId} : null;\r\n    });\r\n\r\n    if ($stateParams.recordId && $stateParams.deductionId) {\r\n      dashboardApi.getDeduction($stateParams.recordId, $stateParams.deductionId).then(\r\n        function(response) {\r\n          vm.deduction       = response || {};\r\n          vm.picker_date     = moment(vm.deduction.created_at)._d;\r\n          vm.picker_min_date = moment(vm.deduction.created_at).startOf('month')._d;\r\n          vm.picker_max_date = moment(vm.deduction.created_at).endOf('month')._d;\r\n        },\r\n        function(response) {\r\n          flashMethods.alertError('Извините, произошла ошибка!');\r\n        }\r\n      );\r\n    }\r\n\r\n    userMarks.list().then(\r\n      function(response) {\r\n        vm.marks_list = response || {};\r\n      },\r\n      function() {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.save_deduction = function() {\r\n      vm.deductionForm.$setSubmitted();\r\n\r\n      if (vm.deductionForm.$invalid) return;\r\n\r\n      if ($stateParams.deductionId) {\r\n        dashboardApi.updateDeduction($stateParams.recordId, $stateParams.deductionId, vm.deduction).then(\r\n          function(response) {\r\n            flashMethods.alertSuccess('Вычет успешно обновлен!');\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      } else {\r\n        dashboardApi.createDeduction($stateParams.recordId, vm.deduction).then(\r\n          function(response) {\r\n            vm.deduction = {};\r\n            vm.deductionForm.$setPristine();\r\n            vm.deductionForm.$setUntouched();\r\n            flashMethods.alertSuccess('Вычет успешно создан!');\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('DashboardController', DashboardController);\r\n\r\n  DashboardController.$inject = ['$scope', '$state', '$mdDialog', 'dashboardApi', 'flashMethods', 'moment', 'toArray', '_'];\r\n\r\n  function DashboardController($scope, $state, $mdDialog, dashboardApi, flashMethods, moment, toArray, _) {\r\n\r\n    var\r\n      vm = this,\r\n      m  = moment();\r\n\r\n    vm.list            = [];\r\n    vm.items_per_page  = 12;\r\n    vm.search_term     = '';\r\n\r\n    vm.current_sort    = {\r\n      column: 'created_at'\r\n    };\r\n\r\n    vm.searchParams = {\r\n      searchTerm: '',\r\n      format: 'MMMM YYYY'\r\n    };\r\n\r\n    vm.columns = [\r\n      {\r\n        name: 'created_at',\r\n        label: 'Дата',\r\n        type: 'date',\r\n        format: 'MMMM YYYY'\r\n      },\r\n      {\r\n        name: 'total',\r\n        label: 'Общая сумма',\r\n        type: 'integer',\r\n        sort: true\r\n      },\r\n      {\r\n        name: 'sum_amounts',\r\n        label: 'Всего потрачено',\r\n        type: 'integer',\r\n        sort: true\r\n      },\r\n      {\r\n        name: 'residue_from_total',\r\n        label: 'Остаток',\r\n        type: 'integer',\r\n        sort: true\r\n      },\r\n      {\r\n        name: 'sum_in_day',\r\n        label: 'Макс. в день',\r\n        type: 'integer'\r\n      }\r\n    ];\r\n\r\n    dashboardApi.list().then(\r\n      function(response) {\r\n        vm.list = toArray.create(response);\r\n        vm.list = _.each(vm.list, function(item) {\r\n          item.sum_amounts            = vm.get_sum_amounts(item.deductions);\r\n          item.residue_from_total     = item.total - item.sum_amounts;\r\n        });\r\n      },\r\n      function(response) {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.searchFilter = function(params) {\r\n      return function(item) {\r\n        if (!params.searchTerm) return true;\r\n        var result = [], mark, m, date;\r\n\r\n        _.each(item, function(value, key) {\r\n          if (key === '$$hashKey' || key === 'id') return;\r\n\r\n          if (key === 'created_at') {\r\n            m     = moment(value),\r\n            date  = m.isValid() ? m.format(params.format) : value;\r\n\r\n            if (~date.indexOf(params.searchTerm))\r\n              result.push(key);\r\n          } else {\r\n            if (~value.toString().indexOf(params.searchTerm)) {\r\n              result.push(key);\r\n              \r\n            }\r\n          }\r\n        });\r\n\r\n        return result.length;\r\n      }\r\n    }\r\n\r\n    vm.apply_sort = function(columnName) {\r\n      if (vm.current_sort.name !== columnName)\r\n        vm.current_sort.type   = '';\r\n\r\n      vm.current_sort.type    = vm.current_sort.type ? (vm.current_sort.type === 'asc' ? 'desc': '') : 'asc';\r\n      vm.current_sort.column  = vm.current_sort.type === 'desc' ? '-' + columnName : columnName;\r\n      vm.current_sort.name    = columnName;\r\n\r\n      if (!vm.current_sort.type)\r\n        vm.current_sort.column = 'created_at';\r\n    }\r\n\r\n    vm.get_sum_amounts = function(list) {\r\n      var keys = _.pluck(list, 'amount');\r\n      return _.reduce(keys, function(memo, num){ return memo + num; }, 0);\r\n    }\r\n\r\n    vm.add_record = function() {\r\n      $state.go('dashboard.record');\r\n    }\r\n\r\n    vm.edit_record = function(recordId) {\r\n      $state.go('dashboard.record', {recordId: recordId});\r\n    }\r\n\r\n    vm.add_deduction = function(recordId) {\r\n      $state.go('dashboard.deduction', {recordId: recordId});\r\n    }\r\n\r\n    vm.deductions_list = function(recordId) {\r\n      $state.go('dashboard.deductions_list', {recordId: recordId});\r\n    }\r\n\r\n    vm.close_dialog = function() {\r\n      $mdDialog.cancel();\r\n    }\r\n\r\n    vm.remove_record = function(recordId, ev) {\r\n      var\r\n        confirm = $mdDialog.confirm()\r\n            .title('Удаление записи')\r\n            .textContent('Вы уверены, что хотите удалить запись?')\r\n            .targetEvent(ev)\r\n            .clickOutsideToClose(true)\r\n            .ok('Удалить')\r\n            .cancel('Нет');\r\n\r\n      $mdDialog.show(confirm).then(\r\n        function() {\r\n          dashboardApi.removeRecord(recordId).then(\r\n            function(response) {\r\n              vm.list = _.reject(vm.list, {id: recordId});\r\n              flashMethods.alertSuccess('Запись была успешно удалена!');\r\n            },\r\n            function(response) {\r\n              flashMethods.alertError('Извините, произошла ошибка!');\r\n            }\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($rootScope, $state, Auth, appConfig) {\r\n\r\n    $rootScope.preloaderClass = false;\r\n\r\n    $rootScope.preloaderActiveClass = function(bool) {\r\n      $rootScope.preloaderClass = bool;\r\n    }\r\n\r\n    $rootScope.headerHide = true;\r\n    $rootScope.states_for_anonymous = ['home', 'sign_in', 'sign_up', 'confirmation_email', 'verify_email', 'confirm_email',\r\n                                      'confirm_email_success', 'confirm_password', 'change_password_success', 'auth_action'];\r\n\r\n    $rootScope.$on('$stateChangeSuccess', function(ev, toState) {\r\n      $rootScope.headerHide = _.contains($rootScope.states_for_anonymous, toState.name);\r\n\r\n      if (appConfig.user) {\r\n        if ($rootScope.headerHide) {\r\n          ev.preventDefault();\r\n          $state.go('dashboard');\r\n        }\r\n      } else {\r\n        if (!$rootScope.headerHide) {\r\n          ev.preventDefault();\r\n          $state.go('logout');\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider, $urlRouterProvider) {\r\n    $stateProvider\r\n      .state('home', {\r\n        url: '/',\r\n        templateUrl: 'app/auth/auth.html'\r\n      })\r\n      .state('logout', {\r\n        url: '/logout',\r\n        resolve: {\r\n          userLogout: function($state, Auth) {\r\n            // Auth.removeToken();\r\n            Auth.logout().then(\r\n              function(response) {\r\n                $state.go('sign_in');\r\n              },\r\n              function(response) {\r\n                $state.go('sign_in');\r\n              }\r\n            )\r\n          }\r\n        }\r\n      })\r\n      .state('auth_action', {\r\n        url: '/auth_action',\r\n        resolve: {\r\n          redirect: function($state, $timeout, $location, $cookies, $q, $window) {\r\n            var\r\n              deferred      = $q.defer(),\r\n              url_params    = $location.search(),\r\n              absUrl        = $location.absUrl(),\r\n              path          = $location.path(),\r\n              mode          = url_params.mode,\r\n              redirect_url  = '',\r\n              url           = '';\r\n\r\n            $timeout(function() {\r\n              if (mode) {\r\n                if (mode === 'verifyEmail')\r\n                  redirect_url = '/sign_up/verify_email';\r\n                else if (mode === 'resetPassword')\r\n                  redirect_url = '/change_password';\r\n\r\n                url = absUrl.replace(path, redirect_url);\r\n\r\n                $window.location.href = url;\r\n              } else {\r\n                $state.go('home');\r\n              }\r\n            }, 0);\r\n\r\n            deferred.reject();\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      });\r\n\r\n    $urlRouterProvider.otherwise(function($ingector) {\r\n      var\r\n        $state    = $ingector.get('$state'),\r\n        appConfig = $ingector.get('appConfig'),\r\n        redirect  = $state.current.name || (appConfig.user ? 'dashboard' : 'home');\r\n\r\n      $state.go(redirect);\r\n    });\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('IndexController', IndexController);\r\n\r\n  IndexController.$inject = ['$scope', '$timeout', '$mdComponentRegistry'];\r\n\r\n  function IndexController($scope, $timeout, $mdComponentRegistry) {\r\n\r\n    var vm = this;\r\n\r\n    $scope.mdSidenavInit = function() {\r\n      $scope.toggle = angular.noop;\r\n      $scope.isOpen = angular.noop;\r\n\r\n      $mdComponentRegistry\r\n        .when('sidebar-left')\r\n        .then(function(sideNav){\r\n          $scope.isOpen = angular.bind(sideNav, sideNav.isOpen );\r\n          $scope.toggle = angular.bind(sideNav, sideNav.toggle );\r\n        });\r\n    }\r\n\r\n    $scope.$on('login_animation', function() {\r\n        vm.login_animation = true;\r\n        $timeout(function() {\r\n          vm.login_animation = false;\r\n        }, 2000);\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n/* global malarkey:false, moment:false */\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .constant('moment', moment)\r\n    .constant('firebase', firebase)\r\n    .constant('_', _)\r\n    .constant('defaultDateFormat', 'L')\r\n    .constant('regExpEmail', '^([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)@([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)[\\\\.]([a-zA-Z]{2,9})$');\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(httpProviderConfig)\r\n    .config(materialThemeConfig)\r\n    .config(datepickerConfig);\r\n\r\n  /** @ngInject */\r\n  function httpProviderConfig($logProvider, $httpProvider) {\r\n    // Enable log\r\n    $logProvider.debugEnabled(true);\r\n\r\n    $httpProvider.interceptors.push(beautifyInterceptor);\r\n  }\r\n\r\n  function beautifyInterceptor($q, Preloader) {\r\n    return {\r\n      request: function(config) {\r\n        Preloader.openPreloader();\r\n        return config;\r\n      },\r\n      requestError: function(config) {\r\n        Preloader.closePreloader();\r\n        return $q.reject(config);\r\n      },\r\n      response: function(res) {\r\n        Preloader.closePreloader();\r\n        return res;\r\n      },\r\n      responseError: function(res) {\r\n        Preloader.closePreloader();\r\n        return $q.reject(res);\r\n      }\r\n    }\r\n  }\r\n\r\n  function materialThemeConfig($mdThemingProvider){\r\n\r\n      var\r\n        primaryBlueMap = $mdThemingProvider.extendPalette('blue', {\r\n          '500': '#1088DE', // Default\r\n          '600': '#1669b1'  // Hover\r\n        }),\r\n        accentGreenMap = $mdThemingProvider.extendPalette('light-green', {\r\n          'A200': '#ABD036', // Default\r\n          'A700': '#94b725', // Hover\r\n          'contrastDefaultColor': 'light'\r\n        }),\r\n        warnRedMap = $mdThemingProvider.extendPalette('red', {\r\n          '500': '#D94740', // Defalt\r\n          '600': '#b32926'  // Hover\r\n        }),\r\n        bgGreyMap = $mdThemingProvider.extendPalette('grey', {\r\n          '50': '#f2f2f2' // Default background\r\n        });\r\n\r\n      $mdThemingProvider.definePalette('primaryBlue', primaryBlueMap);\r\n      $mdThemingProvider.definePalette('accentGreen', accentGreenMap);\r\n      $mdThemingProvider.definePalette('warnRed', warnRedMap);\r\n      $mdThemingProvider.definePalette('bgGrey', bgGreyMap);\r\n      \r\n      $mdThemingProvider\r\n        .theme('default')\r\n        .primaryPalette('primaryBlue')\r\n        .accentPalette('accentGreen')\r\n        .warnPalette('warnRed')\r\n        .backgroundPalette('bgGrey');\r\n    }\r\n\r\n    function datepickerConfig($mdDateLocaleProvider, moment, defaultDateFormat) {\r\n      moment.locale('ru');\r\n\r\n      $mdDateLocaleProvider.months          = moment.months();\r\n      $mdDateLocaleProvider.shortMonths     = moment.monthsShort();\r\n      $mdDateLocaleProvider.days            = moment.weekdays();\r\n      $mdDateLocaleProvider.shortDays       = moment.weekdaysMin();\r\n      $mdDateLocaleProvider.firstDayOfWeek  = 1;\r\n\r\n      $mdDateLocaleProvider.formatDate = function(date) {\r\n        var m = moment(date);\r\n        return m.isValid() ? m.format(defaultDateFormat) : date;\r\n      };\r\n    }\r\n\r\n\r\n\r\n})();\r\n\nangular.module(\"moneyMonitoring\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/auth/auth.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Добро пожаловать</h2><div class=\\\"welcome md-subhead\\\">Войдите или зарегистрируйтесь.</div><div class=button-wrap><md-button ui-sref=sign_in class=\\\"md-primary md-raised\\\">Вход</md-button><md-button ui-sref=sign_up class=md-raised>Регистрация</md-button></div></div>\");\n$templateCache.put(\"app/components/header/header.html\",\"<md-toolbar class=main-header><div class=md-toolbar-tools><div flex class=left-side><md-button class=\\\"md-icon-button btn-sandwich\\\" aria-label=menu ng-click=toggle() ng-class=\\\"{\\'sidebar-open\\': isOpen()}\\\"><span class=top-part></span><span class=middle-part></span><span class=bottom-part></span></md-button></div><div flex class=\\\"senter-side align-center\\\"><div class=\\\"logo small\\\"><a ui-sref=home>Money Monitoring</a></div></div><div flex class=right-side><div ng-bind=header.user_name class=user-name></div><md-button class=md-icon-button aria-label=settings ui-sref=settings><i class=\\\"fa fa-cog\\\"></i></md-button><md-button class=md-icon-button aria-label=logout ui-sref=logout><i class=\\\"fa fa-sign-out\\\"></i></md-button></div></div></md-toolbar>\");\n$templateCache.put(\"app/components/pagination/pagination.html\",\"<div ng-if=\\\"1 &lt; pages.length || !autoHide\\\" class=pagination><span ng-bind=\\\"range.lower + \\'-\\' + range.upper + \\' из \\' + range.total\\\"></span><md-button ng-if=boundaryLinks class=md-icon-button aria-label=first ng-click=setCurrent(1) ng-disabled=\\\"pagination.current == 1\\\"><i class=\\\"fa fa-chevron-left\\\"></i></md-button><md-button ng-if=directionLinks class=md-icon-button aria-label=first ng-click=\\\"setCurrent(pagination.current - 1)\\\" ng-disabled=\\\"pagination.current == 1\\\"><i class=\\\"fa fa-chevron-left\\\"></i></md-button><md-button ng-if=false ng-repeat=\\\"pageNumber in pages track by tracker(pageNumber, $index)\\\" class=md-icon-button aria-label=first ng-click=\\\"setCurrent(pagination.current - 1)\\\" ng-class=\\\"{ active : pagination.current == pageNumber}\\\" ng-disabled=\\\"pageNumber == \\'...\\'\\\"><span ng-bind=pageNumber></span></md-button><md-button ng-if=directionLinks class=md-icon-button aria-label=last ng-click=\\\"setCurrent(pagination.current + 1)\\\" ng-disabled=\\\"pagination.current == pagination.last\\\"><i class=\\\"fa fa-chevron-right\\\"></i></md-button><md-button ng-if=boundaryLinks class=md-icon-button aria-label=last ng-click=setCurrent(pagination.last) ng-disabled=\\\"pagination.current == pagination.last\\\"><i class=\\\"fa fa-chevron-right\\\"></i></md-button></div>\");\n$templateCache.put(\"app/settings/partials/marks.html\",\"<div class=\\\"md-title mb-30\\\">Метки</div><div class=max-width><div class=md-subhead>Список меток</div><div class=marks-list><div layout=row layout-align=\\\"space-between center\\\" ng-repeat=\\\"(key, value) in marks.marks_list\\\" ng-click=marks.choose_mark(key) ng-class=\\\"{\\'active\\': key === marks.current_mark_id}\\\" class=mark><span ng-bind=value.name></span><md-button class=md-icon-button ng-click=\\\"marks.remove_mark(key, value, $event)\\\" aria-label=remove><i class=\\\"fa fa-times\\\"></i></md-button></div></div><form name=marks.saveMarkForm class=last-item-no-margin ng-submit=marks.save_mark()><md-input-container class=md-block><label>Название метки</label><input required type=text ng-model=marks.mark.name></md-input-container><div class=button-holder><md-button class=\\\"md-raised md-primary\\\" type=submit aria-label=save>Сохранить</md-button></div></form></div>\");\n$templateCache.put(\"app/settings/partials/profile.html\",\"profile\");\n$templateCache.put(\"app/settings/partials/settings.html\",\"<div class=view-content><md-card class=md-whiteframe-2dp><md-card-header><div class=md-headline>Основные настройки</div></md-card-header><md-tabs class=\\\"md-accent tabs-list\\\" md-selected=settings.selectedIndex><md-tab ng-repeat=\\\"item in settings.navLinks\\\" label={{item.label}} ui-sref={{item.state}} ui-sref-active=active></md-tab></md-tabs><md-card-content><ui-view></ui-view></md-card-content><md-card-footer></md-card-footer></md-card></div>\");\n$templateCache.put(\"app/components/sidebar/sidebar.html\",\"<md-sidenav md-disable-backdrop class=md-sidenav-left md-component-id=sidebar-left md-whiteframe=4><md-toolbar class=md-theme-indigo><h1 class=md-toolbar-tools>Disabled Backdrop</h1><md-content><p>This sidenav is not showing any backdrop, where users can click on it, to close the sidenav.</p><md-button ng-click=index.toggleLeft() class=md-accent>Close this Sidenav</md-button></md-content></md-toolbar></md-sidenav>\");\n$templateCache.put(\"app/dashboard/partials/dashboard.html\",\"<div class=view-content><ui-view><md-card class=md-whiteframe-2dp><md-card-header layout=row layout-align=\\\"space-between center\\\"><div class=md-headline>Главная</div><div class=search-block><md-input-container md-no-float class=\\\"md-icon-left md-block\\\"><md-icon><i class=\\\"fa fa-search\\\"></i></md-icon><input type=text placeholder=Поиск ng-model=dashboard.searchParams.searchTerm></md-input-container></div></md-card-header><md-card-content class=no-padding><div class=table-wrap><div class=main-table><div class=table-head><div class=table-row><div ng-repeat=\\\"column in dashboard.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=column.label></span><span ng-if=column.sort class=sort_btn ng-click=dashboard.apply_sort(column.name) ng-class=\\\"{\\'asc\\': dashboard.current_sort.type === \\'asc\\' &amp;&amp; dashboard.current_sort.name === column.name, \\'desc\\': dashboard.current_sort.type === \\'desc\\' &amp;&amp; dashboard.current_sort.name === column.name}\\\"><i class=\\\"fa fa-sort-asc\\\"></i><i class=\\\"fa fa-sort-desc\\\"></i></span></div><div class=table-cell></div></div></div><div class=table-body><div dir-paginate=\\\"(key, value) in dashboard.list | orderBy: dashboard.current_sort.column | filter: dashboard.searchFilter(dashboard.searchParams) | itemsPerPage: dashboard.items_per_page\\\" class=table-row><div ng-repeat=\\\"column in dashboard.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=\\\"value[column.name] | dateFilter: column\\\"></span></div><div class=\\\"table-cell action-block\\\"><md-button class=md-icon-button ng-click=dashboard.edit_record(value.id) aria-label=\\\"edit record\\\"><i class=\\\"fa fa-edit\\\"></i></md-button><md-button class=md-icon-button ng-click=dashboard.deductions_list(value.id) aria-label=\\\"deductions list\\\"><i class=\\\"fa fa-eye\\\"></i></md-button><md-button class=md-icon-button ng-click=dashboard.add_deduction(value.id) aria-label=\\\"add deduction\\\"><i class=\\\"fa fa-usd\\\"></i></md-button><md-button class=md-icon-button ng-click=\\\"dashboard.remove_record(value.id, $event)\\\" aria-label=remove><i class=\\\"fa fa-trash-o\\\"></i></md-button></div></div></div></div></div></md-card-content><md-card-footer><div layout=row layout-align=\\\"space-between center\\\" class=footer-wrap><md-button class=\\\"md-raised md-primary\\\" ng-click=dashboard.add_record()>Добавить месяц</md-button><dir-pagination-controls template-url=app/components/pagination/pagination.html></dir-pagination-controls></div></md-card-footer></md-card></ui-view></div>\");\n$templateCache.put(\"app/dashboard/partials/deduction.html\",\"<md-card class=md-whiteframe-2dp><md-card-header><div ng-bind=deduction.title class=md-headline></div></md-card-header><md-card-content><div class=max-width><form name=deduction.deductionForm ng-submit=deduction.save_deduction() class=last-item-no-margin><md-input-container class=md-block><label>Сумма вычета</label><input required name=amount min=0 type=number ng-model=deduction.deduction.amount><div ng-messages=deduction.deductionForm.amount.$error><div ng-message=required>Поле нужно заполнить</div><div ng-message=min>Не может быть отрицательным</div></div></md-input-container><md-input-container class=md-block><label>Метка</label><md-select ng-model=deduction.deduction.mark><md-option ng-value=key ng-repeat=\\\"(key, mark) in deduction.marks_list\\\"><span ng-bind=mark.name></span></md-option></md-select><span class=errors-reserve></span></md-input-container><md-input-container class=md-block><label>Описание</label><textarea ng-model=deduction.deduction.description></textarea></md-input-container><div class=datepicker-input-container><md-datepicker md-open-on-focus class=hide-icon ng-model=deduction.picker_date md-min-date=deduction.picker_min_date md-max-date=deduction.picker_max_date md-placeholder=\\\"Выбрать дату\\\" ng-change=deduction.set_deduction_date()></md-datepicker></div><div class=button-holder><md-button type=submit class=\\\"md-raised md-primary\\\" aria-label=\\\"save deduction\\\"><span ng-bind=deduction.submit_btn></span></md-button><md-button class=md-raised ng-click=deduction.back() aria-label=back>Назад</md-button></div></form></div></md-card-content><md-card-footer></md-card-footer></md-card>\");\n$templateCache.put(\"app/dashboard/partials/deductions_list.html\",\"<md-card class=md-whiteframe-2dp><md-card-header layout=row layout-align=\\\"space-between center\\\"><div ng-bind=deductions_list.title class=md-headline></div><div class=search-block><md-input-container md-no-float class=\\\"md-icon-left md-block\\\"><md-icon><i class=\\\"fa fa-search\\\"></i></md-icon><input type=text placeholder=Поиск ng-model=deductions_list.searchParams.searchTerm ng-change=deductions_list.update_result()></md-input-container></div></md-card-header><md-card-content class=no-padding><div class=table-wrap><div class=main-table><div class=table-head><div class=table-row><div ng-repeat=\\\"column in deductions_list.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=column.label></span><span ng-if=column.sort class=sort_btn ng-click=deductions_list.apply_sort(column.name) ng-class=\\\"{\\'asc\\': deductions_list.current_sort.type === \\'asc\\' &amp;&amp; deductions_list.current_sort.name === column.name, \\'desc\\': deductions_list.current_sort.type === \\'desc\\' &amp;&amp; deductions_list.current_sort.name === column.name}\\\"><i class=\\\"fa fa-sort-asc\\\"></i><i class=\\\"fa fa-sort-desc\\\"></i></span></div><div class=table-cell></div></div></div><div class=table-body><div ng-repeat=\\\"(key, value) in deductions_list.list | orderBy: deductions_list.current_sort.column | filter: deductions_list.searchFilter(deductions_list.searchParams) as filtered_list\\\" class=table-row><div ng-repeat=\\\"column in deductions_list.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=\\\"(column.name === \\'mark\\' ? (deductions_list.marks_list[value[column.name]].name) : value[column.name]) | dateFilter: column\\\"></span></div><div class=\\\"table-cell action-block\\\"><md-button class=md-icon-button ng-click=deductions_list.edit_deduction(value.id) aria-label=\\\"edit deduction\\\"><i class=\\\"fa fa-pencil-square-o\\\"></i></md-button><md-button class=md-icon-button ng-click=\\\"deductions_list.remove_deduction(value.id, $event)\\\" aria-label=\\\"remove deduction\\\"><i class=\\\"fa fa-trash-o\\\"></i></md-button></div></div><div class=\\\"table-row result-row\\\"><div class=table-cell>Итого</div><div class=table-cell></div><div data-type=integer class=table-cell><span class=result-text>Общая сумма:</span><span ng-bind=deductions_list.record.total class=font-bold></span></div><div data-type=integer class=table-cell><span class=result-text>Всего потрачено:</span><span ng-bind=deductions_list.deductions_result class=font-bold></span></div><div data-type=integer class=\\\"table-cell residue\\\"><span class=result-text>Остаток:</span><span ng-bind=deductions_list.deductions_residue class=font-bold></span></div></div></div></div></div></md-card-content><md-card-footer><div layout=row layout-align=\\\"space-between center\\\" class=footer-wrap><div class=button-holder><md-button class=\\\"md-raised md-primary\\\" ng-click=deductions_list.add_deduction() aria-label=back>Добавить вычет</md-button><md-button class=md-raised ng-click=deductions_list.back() aria-label=back>Назад</md-button></div><dir-pagination-controls template-url=app/components/pagination/pagination.html></dir-pagination-controls></div></md-card-footer></md-card>\");\n$templateCache.put(\"app/dashboard/partials/record.html\",\"<md-card class=md-whiteframe-2dp><md-card-header><div ng-bind=record.title class=md-headline></div></md-card-header><md-card-content><div class=max-width><form name=record.recordForm class=last-item-no-margin><md-input-container class=md-block><label>Введите сумму</label><input required name=total type=number ng-model=record.new_record.total ng-disabled=record.add_to_total><div ng-messages=record.recordForm.total.$error><div ng-message=required>Поле нужно заполнить</div></div></md-input-container><md-input-container class=md-block ng-if=record.add_total_input><label>Или введите значение, на которое нужно увеличить</label><input type=number ng-model=record.add_to_total ng-change=record.update_total()></md-input-container><md-input-container class=md-block><label>Месяц</label><md-select ng-model=record.new_record.month><md-option ng-value=month ng-repeat=\\\"month in record.months\\\"><span ng-bind=month></span></md-option></md-select><span class=errors-reserve></span></md-input-container><md-input-container class=md-block><label>Год</label><md-select ng-model=record.new_record.year><md-option ng-value=year ng-repeat=\\\"year in record.years\\\"><span ng-bind=year></span></md-option></md-select><span class=errors-reserve></span></md-input-container></form></div></md-card-content><md-card-footer><md-button class=\\\"md-raised md-primary\\\" ng-click=record.save_record($event) aria-label=\\\"save record\\\"><span ng-bind=record.submit_btn></span></md-button><md-button class=md-raised ng-click=record.back() aria-label=back>Назад</md-button></md-card-footer></md-card>\");\n$templateCache.put(\"app/auth/sign_up/partials/confirmation_email.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Регистрация почти завершена!</div><div class=md-subhead>Для подтверждения регистрации на указанный вами email адрес было выслано письмо с дальнейшими инструкциями. Обратите внимание, что письма иногда попадают в спам.</div></div></div>\");\n$templateCache.put(\"app/auth/sign_up/partials/sign_up.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Регистрация</h2><div class=\\\"md-subhead align-center\\\">Введите существующий email адрес.</div><div class=form-wrap><form name=sign_up.signUpForm ng-submit=sign_up.registration()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{sign_up.regExpEmail}} type=email name=email ng-model=sign_up.user.email autocomplete=new-email><div ng-messages=sign_up.signUpForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=sign_up.errors.errors.email></span></div></div></md-input-container><md-input-container class=md-block><label>Пароль</label><input required input-errors type=password name=password ng-model=sign_up.user.password minlength=6 autocomplete=new-password><div ng-messages=sign_up.signUpForm.password.$error><div ng-message=minlength>Пароль не может быть меньше 6 символов!</div><div ng-message=password><span ng-bind=sign_up.errors.errors.password></span></div></div></md-input-container><md-input-container class=md-block><label>Повторите пароль</label><input required confirm-password type=password name=password_confirmation ng-model=sign_up.user.password_confirmation autocomplete=new-password><div ng-messages=sign_up.signUpForm.password_confirmation.$error><div ng-message=password_confirmation>Должно соответствовать паролю.</div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\" ng-disabled=sign_up.signUpForm.$invalid>Зарегистрироваться</md-button></div></form></div></div>\");\n$templateCache.put(\"app/auth/sign_up/partials/verify_email.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div ng-bind=sign_up.title class=md-headline></div><div ng-bind=sign_up.content class=md-subhead></div><div ng-if=sign_up.verify_status class=button-wrap><md-button ui-sref=sign_in class=\\\"md-primary md-raised\\\">Войти</md-button></div></div></div>\");\n$templateCache.put(\"app/auth/forgot_password/partials/change_success.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Пароль успешно изменен!</div><div class=md-subhead>Теперь вы можете войти под новым паролем.</div><div class=button-wrap><md-button ui-sref=sign_in class=\\\"md-primary md-raised\\\">Войти</md-button></div></div></div>\");\n$templateCache.put(\"app/auth/forgot_password/partials/confirm_email.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Восстановление пароля</h2><div class=\\\"md-subhead align-center max-width\\\">Введите ваш email адрес. Вам будет отправлено письмо с дальнейшими инструкциями.</div><div class=form-wrap><form name=forgot_password.confirmEmailForm ng-submit=forgot_password.confirm_email()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{forgot_password.regExpEmail}} type=email name=email ng-model=forgot_password.user.email autofocus><div ng-messages=forgot_password.confirmEmailForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=forgot_password.errors.errors.email></span></div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\">Продолжить</md-button></div></form></div></div>\");\n$templateCache.put(\"app/auth/forgot_password/partials/confirm_email_success.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Восстановление пароля</div><div class=md-subhead>Для изменения пароля вам было выслано письмо на почту с дальнейшими инструкциями. Обратите внимание, что письма иногда попадают в спам.</div></div></div>\");\n$templateCache.put(\"app/auth/forgot_password/partials/confirm_password.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1 ng-bind=forgot_password.title>Восстановление пароля</h2><div ng-bind=forgot_password.content class=\\\"md-subhead align-center\\\">Введите новый пароль.</div><div ng-if=forgot_password.verify_status class=form-wrap><form name=forgot_password.confirmPasswordForm ng-submit=forgot_password.confirm_password()><md-input-container class=md-block><label>Пароль</label><input required input-errors type=password name=password minlength=6 ng-model=forgot_password.user.password autofocus><div ng-messages=forgot_password.confirmPasswordForm.password.$error><div ng-message=minlength>Пароль не может быть меньше 6 символов!</div><div ng-message=password><span ng-bind=forgot_password.errors.errors.password></span></div></div></md-input-container><md-input-container class=md-block><label>Повторите пароль</label><input required confirm-password type=password name=password_confirmation ng-model=forgot_password.user.password_confirmation autocomplete=new-password><div ng-messages=forgot_password.confirmPasswordForm.password_confirmation.$error><div ng-message=password_confirmation>Должно соответствовать паролю.</div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\">Сохранить</md-button></div></form></div></div>\");\n$templateCache.put(\"app/auth/sign_in/partials/sign_in.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Вход</h2><div class=form-wrap><form name=sign_in.signInForm ng-submit=sign_in.login()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{sign_in.regExpEmail}} type=email name=email ng-model=sign_in.user.email autofocus><div ng-messages=sign_in.signInForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=sign_in.errors.errors.email></span><a class=send-email-btn ng-click=sign_in.send_email() ng-if=sign_in.send_again>Отправить еще раз</a></div></div></md-input-container><md-input-container class=\\\"md-block mb-0\\\"><label>Пароль</label><input required input-errors type=password name=password ng-model=sign_in.user.password><div ng-messages=sign_in.signInForm.password.$error><div ng-message=password><span ng-bind=sign_in.errors.errors.password></span></div></div></md-input-container><div class=forgot-password-btn><a ui-sref=confirm_email class=forgot_password>Забыли пароль?</a></div><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\">Вход</md-button></div></form></div></div>\");}]);"],"sourceRoot":"/source/"}