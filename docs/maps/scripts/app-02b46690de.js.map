{"version":3,"sources":["scripts/app.js"],"names":["initApp","appConfig","db","firebase","database","rootRef","ref","urlBase","toString","angular","element","document","ready","appModule","constant","bootstrap","FBconfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appStart","module","initializeApp","auth","onAuthStateChanged","user","emailVerified","userMarks","DB","userId","uid","list","get","addMark","value","add","removeMark","id","remove","updateMark","update","factory","$inject","dashboardApi","getRecord","recordId","addRecord","removeRecord","updateRecord","deductionsList","getDeduction","deductionId","createDeduction","updateDeduction","removeDeduction","Auth","$cookies","$state","$q","login","email","password","signInWithEmailAndPassword","signUp","createUserWithEmailAndPassword","logout","signOut","getUser","currentUser","sendEmailVerification","deferred","defer","then","response","resolve","error","reject","promise","applyActionCode","oobCode","verifyPasswordResetCode","sendPasswordResetEmail","confirmPasswordReset","$rootScope","$timeout","url","preloaderActiveClass","child","once","val","params","push","toArray","_","create","obj","map","key","mainSidebar","restrict","replace","templateUrl","controllerAs","controller","$scope","mdSidenavInit","directive","Preloader","class_preloader","querySelector","activation_class","openPreloader","addClass","closePreloader","removeClass","this","$get","provider","outputErrors","$mdDialog","Errors","errors","prototype","inputErrors","merge","$broadcast","alertDialog","title","cancel","message","show","alert","clickOutsideToClose","textContent","ok","createNew","require","link","scope","attrs","ctrls","addModelValidators","ngModel","$validators","input_name","modelValue","viewValue","form","name","$on","ev","$setValidity","has","$setTouched","flashMethods","$mdToast","createAlert","type","delay","position","template","hideDelay","alertSuccess","alertError","alertInfo","confirmPassword","regExp","password_confirmation","$modelValue","$viewValue","mainHeader","vm","user_name","dateFilter","moment","defaultDateFormat","item","column","format","filter","SignUpController","$location","regExpEmail","determine_result","status","verify_status","content","url_params","search","email_errors","password_erros","registration","signUpForm","equals","$invalid","expire_date","Date","setDate","getDate","put","expires","go","error_type","isNumber","code","split","contains","$apply","confirm_email","current","SignInController","logged_user","$emit","send_again","send_email","simple","ForgotPasswordController","confirmEmailForm","confirm_password","confirmPasswordForm","setMinutes","getMinutes","SettingsController","navLinks","state","label","update_current_tab","currentState","current_item","findWhere","selectedIndex","indexOf","toState","routerConfig","$stateProvider","abstract","config","SettingsProfileController","SettingsMarksController","marks_list","mark","current_mark_id","choose_mark","markId","save_mark","saveMarkForm","copy","$setPristine","$setUntouched","remove_mark","stopPropagation","confirm","targetEvent","RecordController","$stateParams","defeult_total","m","submit_btn","add_total_input","months","years","current_months_index","month","new_record","update_created_at","date","choosed_month","choosed_year","days_in_month","daysInMonth","created_at","total","year","update_total","add_to_total","save_record","recordForm","$setSubmitted","sum_in_day","toFixed","back","reload","DeductionsListController","search_term","current_mark","current_sort","columns","sort","searchParams","searchTerm","marksList","deductions","record","amounts","pluck","deductions_result","reduce","memo","num","deductions_residue","update_result","filtered_list","apply_sort","columnName","remove_deduction","searchFilter","result","each","toLowerCase","length","add_deduction","edit_deduction","DeductionController","deduction","from_state","from_params","set_deduction_date","picker_date","picker_min_date","startOf","_d","picker_max_date","endOf","toParams","fromState","fromParams","save_deduction","deductionForm","DashboardController","items_per_page","sum_amounts","get_sum_amounts","residue_from_total","all_record_total","all_record_result","all_record_residue","keys","add_record","edit_record","deductions_list","close_dialog","remove_record","isEmail","verifyEmail","mode","checkCode","checkParamsCode","runBlock","preloaderClass","bool","headerHide","states_for_anonymous","preventDefault","run","$urlRouterProvider","$locationProvider","userLogout","redirect","$window","absUrl","path","redirect_url","location","href","otherwise","$ingector","html5Mode","IndexController","$mdComponentRegistry","toggle","noop","isOpen","when","sideNav","bind","login_animation","httpProviderConfig","$logProvider","$httpProvider","debugEnabled","interceptors","beautifyInterceptor","request","requestError","res","responseError","materialThemeConfig","$mdThemingProvider","primaryBlueMap","extendPalette","500","600","accentGreenMap","A200","A700","contrastDefaultColor","warnRedMap","bgGreyMap","50","definePalette","theme","primaryPalette","accentPalette","warnPalette","backgroundPalette","datepickerConfig","$mdDateLocaleProvider","locale","shortMonths","monthsShort","days","weekdays","shortDays","weekdaysMin","firstDayOfWeek","formatDate","isValid","$templateCache"],"mappings":"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","file":"scripts/app-02b46690de.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  // Application config\r\n  var\r\n    FBconfig = {\r\n      apiKey:             \"AIzaSyC-Jr_rmAy_8i0S97WbWlDPwtDQf2UInUM\",\r\n      authDomain:         \"monitoring-37fdd.firebaseapp.com\",\r\n      databaseURL:        \"https://monitoring-37fdd.firebaseio.com\",\r\n      projectId:          \"monitoring-37fdd\",\r\n      storageBucket:      \"monitoring-37fdd.appspot.com\",\r\n      messagingSenderId:  \"375917001440\"\r\n    },\r\n    appConfig = {},\r\n    appStart  = false,\r\n    appModule = angular.module('moneyMonitoring', ['ngAnimate', 'ngCookies', 'ngSanitize', 'ngMessages', 'ngAria', 'ui.router', 'ngMaterial', 'toastr', 'angularUtils.directives.dirPagination']);\r\n\r\n  // Initialize Firebase\r\n  firebase.initializeApp(FBconfig);\r\n\r\n  // User auth state change callback\r\n  firebase.auth().onAuthStateChanged(function(user) {\r\n    appConfig.user = user ? (user.emailVerified ? user : null) : null;\r\n\r\n    if (!appStart) {\r\n      initApp();\r\n      appStart = true;\r\n    }\r\n  });\r\n\r\n  function initApp() {\r\n    appConfig.db       = firebase.database(),\r\n    appConfig.rootRef  = appConfig.db.ref(),\r\n    appConfig.urlBase  = appConfig.rootRef.toString();\r\n\r\n    angular.element(document).ready(function() {\r\n      appModule.constant('appConfig', appConfig);\r\n      angular.bootstrap(document, ['moneyMonitoring']);\r\n    });\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('userMarks', userMarks);\r\n\r\n  userMarks.$inject = ['appConfig', 'DB'];\r\n\r\n  function userMarks(appConfig, DB) {\r\n\r\n    var\r\n      userMarks = {},\r\n      userId = appConfig.user.uid;\r\n\r\n    userMarks.list = function() {\r\n      return DB.get('users/' + userId + '/marks');\r\n    }\r\n\r\n    userMarks.addMark = function(value) {\r\n      return DB.add('users/' + userId + '/marks', value);\r\n    }\r\n\r\n    userMarks.removeMark = function(id) {\r\n      return DB.remove('users/' + userId + '/marks/' + id);\r\n    }\r\n\r\n    userMarks.updateMark = function(id, value) {\r\n      return DB.update('users/' + userId + '/marks/' + id, value);\r\n    }\r\n\r\n\r\n    return userMarks;\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('dashboardApi', dashboardApi);\r\n\r\n  dashboardApi.$inject = ['appConfig', 'DB'];\r\n\r\n  function dashboardApi(appConfig, DB) {\r\n\r\n    var\r\n      dashboardApi = {},\r\n      userId = appConfig.user.uid;\r\n\r\n    dashboardApi.list = function() {\r\n      return DB.get('users/' + userId + '/list');\r\n    }\r\n\r\n    dashboardApi.getRecord = function(recordId) {\r\n      return DB.get('users/' + userId + '/list/' + recordId);\r\n    }\r\n\r\n    dashboardApi.addRecord = function(value) {\r\n      return DB.add('users/' + userId + '/list', value);\r\n    }\r\n\r\n    dashboardApi.removeRecord = function(recordId) {\r\n      return DB.remove('users/' + userId + '/list/' + recordId);\r\n    }\r\n\r\n    dashboardApi.updateRecord = function(recordId, value) {\r\n      return DB.update('users/' + userId + '/list/' + recordId, value);\r\n    }\r\n\r\n    dashboardApi.deductionsList = function(recordId) {\r\n      return DB.get('users/' + userId + '/list/' + recordId + '/deductions');\r\n    }\r\n\r\n    dashboardApi.getDeduction = function(recordId, deductionId) {\r\n      return DB.get('users/' + userId + '/list/' + recordId + '/deductions/' + deductionId);\r\n    }\r\n\r\n    dashboardApi.createDeduction = function(recordId, value) {\r\n      return DB.add('users/' + userId + '/list/' + recordId + '/deductions', value);\r\n    }\r\n\r\n    dashboardApi.updateDeduction = function(recordId, deductionId, value) {\r\n      return DB.update('users/' + userId + '/list/' + recordId + '/deductions/' + deductionId, value);\r\n    }\r\n\r\n    dashboardApi.removeDeduction = function(recordId, deductionId) {\r\n      return DB.remove('users/' + userId + '/list/' + recordId + '/deductions/' + deductionId);\r\n    }\r\n\r\n    return dashboardApi;\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('Auth', Auth);\r\n\r\n  Auth.$inject = ['$cookies', '$state', 'firebase', '$q'];\r\n\r\n  function Auth($cookies, $state, firebase, $q) {\r\n\r\n    var Auth = {};\r\n\r\n    Auth.login = function(email, password) {\r\n      return firebase.auth().signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    Auth.signUp = function(email, password) {\r\n      return firebase.auth().createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    Auth.logout = function() {\r\n      return firebase.auth().signOut();\r\n    }\r\n\r\n    Auth.getUser = function() {\r\n      return firebase.auth().currentUser;\r\n    }\r\n\r\n    Auth.sendEmailVerification = function(user) {\r\n      var\r\n        user     = user || Auth.getUser(),\r\n        deferred = $q.defer();\r\n\r\n      user.sendEmailVerification().then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.applyActionCode = function(oobCode) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().applyActionCode(oobCode).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.verifyPasswordResetCode = function(oobCode) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().verifyPasswordResetCode(oobCode).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.sendPasswordResetEmail = function(email) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().sendPasswordResetEmail(email).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    Auth.confirmPasswordReset = function(oobCode, password) {\r\n      var deferred = $q.defer();\r\n\r\n      firebase.auth().confirmPasswordReset(oobCode, password).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n        },\r\n        function(error) {\r\n          deferred.reject(error);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    return Auth;\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('DB', DB);\r\n\r\n  DB.$inject = ['$rootScope', '$timeout', 'appConfig', '$q'];\r\n\r\n  function DB($rootScope, $timeout, appConfig, $q) {\r\n\r\n    var DB = {};\r\n\r\n    DB.get = function(url) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var deferred = $q.defer();\r\n\r\n      appConfig.rootRef.child(url).once('value').then(\r\n        function(response) {\r\n          deferred.resolve(response.val());\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    DB.add = function(url, params) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var\r\n        deferred = $q.defer(),\r\n        ref      = appConfig.db.ref(url);\r\n\r\n      ref.push(params).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    DB.remove = function(url) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var\r\n        deferred = $q.defer(),\r\n        ref      = appConfig.db.ref(url);\r\n\r\n      ref.remove().then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    DB.update = function(url, params) {\r\n      $rootScope.preloaderActiveClass(true);\r\n\r\n      var\r\n        deferred = $q.defer(),\r\n        ref      = appConfig.db.ref(url);\r\n\r\n      ref.update(params).then(\r\n        function(response) {\r\n          deferred.resolve(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        },\r\n        function(response) {\r\n          deferred.reject(response);\r\n          $timeout(function() { $rootScope.preloaderActiveClass(false); }, 0);\r\n        }\r\n      );\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    return DB;\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('toArray', toArray);\r\n\r\n  toArray.$inject = ['_'];\r\n\r\n  function toArray(_) {\r\n\r\n    var\r\n      toArray = {};\r\n\r\n    toArray.create = function(obj) {\r\n      return _.map(obj, function(value, key) {\r\n        value.id = key;\r\n        return value;\r\n      });\r\n    }\r\n\r\n    return toArray;\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('mainSidebar', mainSidebar);\r\n\r\n  mainSidebar.$inject = [];\r\n\r\n  function mainSidebar() {\r\n    return {\r\n      restrict: 'E',\r\n      replace: true,\r\n      templateUrl: 'app/components/sidebar/sidebar.html',\r\n      controllerAs: 'sidebar',\r\n      controller: function($scope) {\r\n        $scope.mdSidenavInit();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    provider('Preloader', Preloader);\r\n\r\n  function Preloader() {\r\n    var\r\n      class_preloader = '.la-anim-10',\r\n      element = angular.element(document.querySelector(class_preloader)),\r\n      activation_class = 'la-animate',\r\n      Preloader = {};\r\n\r\n    Preloader.openPreloader = function(){\r\n      element.addClass(activation_class);\r\n    }\r\n\r\n    Preloader.closePreloader = function(){\r\n      element.removeClass(activation_class);\r\n    }\r\n\r\n    this.$get = function(){\r\n      return Preloader;\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('outputErrors', outputErrors);\r\n\r\n  outputErrors.$inject = ['$rootScope', '$mdDialog', '_'];\r\n\r\n  function outputErrors($rootScope, $mdDialog, _) {\r\n\r\n    var\r\n      outputErrors = {};\r\n\r\n    function Errors() {\r\n      this.errors = {};\r\n    }\r\n\r\n    Errors.prototype.inputErrors = function(errors) {\r\n      this.errors = angular.merge({}, errors);\r\n      $rootScope.$broadcast('$errors', this.errors);\r\n    }\r\n\r\n    Errors.prototype.alertDialog = function(errors) {\r\n      var\r\n        title   = 'Ошибка!',\r\n        cancel  = 'Закрыть',\r\n        message = errors || 'Что-то пошло не так...',\r\n        result  = '';\r\n\r\n      return $mdDialog.show(\r\n        $mdDialog.alert()\r\n          .clickOutsideToClose(true)\r\n          .title(title)\r\n          .textContent(message)\r\n          .ok(cancel)\r\n      );\r\n    }\r\n\r\n    outputErrors.createNew = function() {\r\n      return new Errors();\r\n    }\r\n\r\n    return outputErrors;\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('inputErrors', inputErrors);\r\n\r\n  inputErrors.$inject = [];\r\n\r\n  function inputErrors() {\r\n    return {\r\n      restrict: 'A',\r\n      require: ['?ngModel', '^?form'],\r\n      link: function(scope, element, attrs, ctrls) {\r\n\r\n        var\r\n          form       = ctrls[1],\r\n          input_name = attrs.name,\r\n          ngModel;\r\n\r\n        if (!form) return;\r\n\r\n        ngModel = ctrls[0] || form[input_name];\r\n\r\n        function addModelValidators() {\r\n          if (!ngModel) return;\r\n\r\n          ngModel.$validators[input_name] = function(modelValue, viewValue) {\r\n            return true;\r\n          }\r\n        }\r\n\r\n        addModelValidators();\r\n\r\n        scope.$on('$errors', function(ev, errors) {\r\n          if (!ngModel) return;\r\n\r\n          ngModel.$setValidity(input_name, !_.has(errors, input_name));\r\n          ngModel.$setTouched();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    factory('flashMethods', flashMethods);\r\n\r\n  flashMethods.$inject = ['$rootScope', '$mdToast', '_'];\r\n\r\n  function flashMethods($rootScope, $mdToast, _) {\r\n\r\n    var\r\n      flashMethods = {};\r\n\r\n    flashMethods.createAlert = function(type, message, delay, position) {\r\n      return $mdToast.show({\r\n          template  : '<md-toast class=\"md-toast ' + type +'\"><div class=\"md-toast-content\">' + message + '</div></md-toast>',\r\n          hideDelay : delay || 3000,\r\n          position  : position || 'top right'\r\n        }\r\n      );\r\n    }\r\n\r\n    flashMethods.alertSuccess = function(message, delay, position) {\r\n      return flashMethods.createAlert('success', message, delay, position);\r\n    }\r\n\r\n    flashMethods.alertError = function(message, delay, position) {\r\n      return flashMethods.createAlert('error', message, delay, position);\r\n    }\r\n\r\n    flashMethods.alertInfo = function(message, delay, position) {\r\n      return flashMethods.createAlert('info', message, delay, position);\r\n    }\r\n\r\n    return flashMethods;\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('confirmPassword', confirmPassword);\r\n\r\n  confirmPassword.$inject = [];\r\n\r\n  function confirmPassword() {\r\n    return {\r\n      restrict: 'A',\r\n      require: ['?ngModel', '^?form'],\r\n      scope: {\r\n        regExp: '@'\r\n      },\r\n      link: function(scope, element, attrs, ctrls) {\r\n\r\n        var\r\n          form = ctrls[1],\r\n          ngModel;\r\n\r\n        if (!form) return;\r\n\r\n        ngModel = ctrls[0] || form[attrs.name];\r\n\r\n        if (ngModel) {\r\n          ngModel.$validators.password_confirmation = function(modelValue, viewValue) {\r\n            var\r\n              value    = modelValue || viewValue,\r\n              password = form.password.$modelValue || form.password.$viewValue;\r\n\r\n            return value === password;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function(){\r\n\r\n  'use strict';\r\n\r\n  angular.\r\n    module('moneyMonitoring').\r\n    directive('mainHeader', mainHeader);\r\n\r\n  mainHeader.$inject = ['appConfig'];\r\n\r\n  function mainHeader(appConfig) {\r\n    return {\r\n      restrict: 'E',\r\n      replace: true,\r\n      templateUrl: 'app/components/header/header.html',\r\n      controllerAs: 'header',\r\n      controller: function() {\r\n        var vm = this;\r\n\r\n        vm.user_name = appConfig.user.name;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n})();\n(function() {\r\n\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .filter('dateFilter', dateFilter);\r\n\r\n  /** @ngInject */\r\n  function dateFilter(moment, defaultDateFormat) {\r\n    return function(item, column) {\r\n      return column && column.type === 'date' ? moment(item).format(column.format || defaultDateFormat) : item;\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SignUpController', SignUpController);\r\n\r\n  SignUpController.$inject = ['$scope', '$state', '$cookies', '$location', 'Auth', '_', 'regExpEmail', 'outputErrors'];\r\n\r\n  function SignUpController($scope, $state, $cookies, $location, Auth, _, regExpEmail, outputErrors) {\r\n\r\n    var\r\n      vm          = this,\r\n      url_params  = $location.search(),\r\n      oobCode     = url_params.oobCode;\r\n\r\n    vm.user           = {};\r\n    vm.regExpEmail    = regExpEmail;\r\n    vm.errors         = outputErrors.createNew();\r\n    vm.email_errors   = ['email-already-in-use', 'user-not-found', 'invalid-email'];\r\n    vm.password_erros = ['wrong-password', 'weak-password'];\r\n\r\n    vm.registration = function() {\r\n      vm.signUpForm.password_confirmation.$setValidity('password_confirmation', angular.equals(vm.user.password, vm.user.password_confirmation));\r\n\r\n      if (vm.signUpForm.$invalid) return;\r\n\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.signUp(vm.user.email, vm.user.password).then(\r\n        function(response) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          Auth.sendEmailVerification().then(\r\n            function() {\r\n              var expire_date = new Date();\r\n              expire_date.setDate(expire_date.getDate() + 1);\r\n\r\n              $cookies.put('confirmation_send', 'true', {'expires': expire_date});\r\n              $state.go('confirmation_email');\r\n            }\r\n          );\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = _.isNumber(error.code) ? 'weak-password' : error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.email_errors, error_type))\r\n            vm.errors.inputErrors({email: error.message});\r\n          else if (_.contains(vm.password_erros, error_type))\r\n            vm.errors.inputErrors({password: error.message});\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.confirm_email = function() {\r\n      Auth.applyActionCode(oobCode).then(\r\n        function(response) {\r\n          determine_result(true);\r\n        },\r\n        function(error) {\r\n          determine_result(false);\r\n        }\r\n      );\r\n    }\r\n\r\n    function determine_result(status) {\r\n      vm.verify_status = status;\r\n      vm.title   = status ? 'Регистрация завершена!' : 'Извините, произошла ошибка!';\r\n      vm.content = status ? 'Ваша почта подтверждена. Теперь вы можете войти.' : 'Данная ссылка уже не доступна. Либо вы уже подтвердили вашу почту, либо истек срок действия данной ссылки.';\r\n    }\r\n\r\n    if (oobCode && $state.current.name === 'verify_email') {\r\n      vm.confirm_email();\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SignInController', SignInController);\r\n\r\n  SignInController.$inject = ['$scope', '$state', '$timeout', '$cookies', 'Auth', 'regExpEmail', 'outputErrors', '$mdToast'];\r\n\r\n  function SignInController($scope, $state, $timeout, $cookies, Auth, regExpEmail, outputErrors, $mdToast) {\r\n\r\n    var vm = this;\r\n\r\n    vm.user           = {};\r\n    vm.regExpEmail    = regExpEmail;\r\n    vm.errors         = outputErrors.createNew();\r\n    vm.email_errors   = ['user-not-found', 'invalid-email'];\r\n    vm.password_erros = ['wrong-password', 'weak-password'];\r\n\r\n    vm.login = function() {\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.login(vm.user.email, vm.user.password).then(\r\n        function(response) {\r\n          vm.logged_user = Auth.getUser();\r\n\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          if (!vm.logged_user.emailVerified) {\r\n            vm.errors.inputErrors({email: 'Email адрес не подтвержден. Проверте почту.'});\r\n            vm.send_again = $cookies.get('confirmation_send') ? false : true;\r\n            $timeout(function() { Auth.logout(); }, 100);\r\n          } else {\r\n            $scope.$emit('login_animation');\r\n            $state.go('dashboard');\r\n          }\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.email_errors, error_type))\r\n            vm.errors.inputErrors({email: error.message});\r\n          else if (_.contains(vm.password_erros, error_type))\r\n            vm.errors.inputErrors({password: error.message});\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.send_email = function() {\r\n      Auth.sendEmailVerification(vm.logged_user).then(\r\n        function(response) {\r\n          var expire_date = new Date();\r\n          expire_date.setDate(expire_date.getDate() + 1);\r\n\r\n          vm.send_again = false;\r\n\r\n          $cookies.put('confirmation_send', 'true', {'expires': expire_date});\r\n\r\n          $mdToast.show(\r\n            $mdToast.simple()\r\n              .textContent('Сообщение отправлено! Проверте почту.')\r\n              .position('top right')\r\n              .hideDelay(5000)\r\n          );\r\n        },\r\n        function(error) {\r\n          $mdToast.show(\r\n            $mdToast.simple()\r\n              .textContent('Ошибка! Сообщение не отправлено.')\r\n              .position('top right')\r\n              .hideDelay(5000)\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('ForgotPasswordController', ForgotPasswordController);\r\n\r\n  ForgotPasswordController.$inject = ['$scope', '$state', '$location', '$cookies', '$timeout', 'Auth', 'regExpEmail', 'outputErrors', '$mdToast'];\r\n\r\n  function ForgotPasswordController($scope, $state, $location, $cookies, $timeout, Auth, regExpEmail, outputErrors, $mdToast) {\r\n\r\n    var\r\n      vm = this,\r\n      url_params = $location.search(),\r\n      oobCode    = url_params.oobCode;\r\n\r\n    vm.user = {};\r\n    vm.regExpEmail    = regExpEmail;\r\n    vm.email_errors   = ['user-not-found', 'invalid-email'];\r\n    vm.password_erros = ['wrong-password', 'weak-password'];\r\n    vm.errors         = outputErrors.createNew();\r\n\r\n    function determine_result(status) {\r\n      vm.verify_status = status;\r\n      vm.title   = status ? 'Восстановление пароля' : 'Извините, произошла ошибка!';\r\n      vm.content = status ? 'Введите новый пароль.' : 'Данная ссылка уже не доступна.';\r\n    }\r\n\r\n    if (oobCode) {\r\n      Auth.verifyPasswordResetCode(oobCode).then(\r\n        function(response) {\r\n          determine_result(true)\r\n        },\r\n        function(error) {\r\n          determine_result(false);\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.confirm_email = function() {\r\n      if (vm.confirmEmailForm.$invalid) return;\r\n\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.sendPasswordResetEmail(vm.user.email)\r\n        .then(function(response) {\r\n          $scope.preloaderActiveClass(false);\r\n          $cookies.put('email_confirmation', 'true');\r\n          $state.go('confirm_email_success');\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.email_errors, error_type)) {\r\n            vm.errors.inputErrors({email: error.message});\r\n          } else {\r\n            $mdToast.show(\r\n              $mdToast.simple()\r\n                .textContent(error.message || 'Произошла ошибка!')\r\n                .position('top right')\r\n                .hideDelay(10000)\r\n            );\r\n          }\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.confirm_password = function() {\r\n      vm.confirmPasswordForm.password_confirmation.$setValidity('password_confirmation', angular.equals(vm.user.password, vm.user.password_confirmation));\r\n\r\n      if (vm.confirmPasswordForm.$invalid) return;\r\n\r\n      $scope.preloaderActiveClass(true);\r\n\r\n      Auth.confirmPasswordReset(oobCode, vm.user.password).then(\r\n        function(response) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var expire_date = new Date();\r\n          expire_date.setMinutes(expire_date.getMinutes() + 2);\r\n\r\n          $cookies.put('change_password', 'true', {'expires': expire_date});\r\n          $state.go('change_password_success');\r\n        },\r\n        function(error) {\r\n          $scope.preloaderActiveClass(false);\r\n\r\n          var error_type = _.isNumber(error.code) ? 'weak-password' : error.code.split('/')[1];\r\n\r\n          if (_.contains(vm.password_erros, error_type))\r\n            vm.errors.inputErrors({password: error.message});\r\n\r\n          $scope.$apply();\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SettingsController', SettingsController);\r\n\r\n  SettingsController.$inject = ['$scope', '$state', '$mdDialog', 'flashMethods'];\r\n\r\n  function SettingsController($scope, $state,  $mdDialog, flashMethods) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.navLinks = [\r\n      {\r\n        state: 'settings.profile',\r\n        label: 'Профиль'\r\n      },\r\n      {\r\n        state: 'settings.marks',\r\n        label: 'Настройка меток'\r\n      }\r\n    ];\r\n\r\n    vm.update_current_tab = function(currentState) {\r\n      vm.current_item  = _.findWhere(vm.navLinks, {state: currentState});\r\n      vm.selectedIndex = vm.navLinks.indexOf(vm.current_item);\r\n    }\r\n\r\n    vm.update_current_tab($state.current.name);\r\n\r\n    $scope.$on('$stateChangeSuccess', function(ev, toState) {\r\n      vm.update_current_tab(toState.name);\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('settings', {\r\n        abstract: true,\r\n        url: '/settings',\r\n        templateUrl: 'app/settings/partials/settings.html',\r\n        controller: 'SettingsController',\r\n        controllerAs: 'settings'\r\n      })\r\n      .state('settings.profile', {\r\n        url: '/profile',\r\n        templateUrl: 'app/settings/partials/profile.html',\r\n        controller: 'SettingsProfileController',\r\n        controllerAs: 'profile'\r\n      })\r\n      .state('settings.marks', {\r\n        url: '/marks',\r\n        templateUrl: 'app/settings/partials/marks.html',\r\n        controller: 'SettingsMarksController',\r\n        controllerAs: 'marks'\r\n      });\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SettingsProfileController', SettingsProfileController);\r\n\r\n  SettingsProfileController.$inject = ['$scope', '$state', '$mdDialog', 'flashMethods'];\r\n\r\n  function SettingsProfileController($scope, $state,  $mdDialog, flashMethods) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    \r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('SettingsMarksController', SettingsMarksController);\r\n\r\n  SettingsMarksController.$inject = ['$scope', '$state', '$mdDialog', 'flashMethods', 'userMarks'];\r\n\r\n  function SettingsMarksController($scope, $state,  $mdDialog, flashMethods, userMarks) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.marks_list       = {};\r\n    vm.mark             = {};\r\n    vm.current_mark_id  = '';\r\n\r\n    userMarks.list().then(\r\n      function(response) {\r\n        vm.marks_list = response || {};\r\n      },\r\n      function() {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.choose_mark = function(markId) {\r\n      vm.current_mark_id  = vm.current_mark_id !== markId ? markId : '';\r\n      vm.mark             = vm.current_mark_id ? vm.marks_list[vm.current_mark_id] : {};\r\n    }\r\n\r\n    vm.save_mark = function() {\r\n      if (vm.saveMarkForm.$invalid) return;\r\n\r\n      if (vm.current_mark_id) {\r\n        userMarks.updateMark(vm.current_mark_id, vm.mark).then(\r\n          function() {\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      } else {\r\n        userMarks.addMark(vm.mark).then(\r\n          function(response) {\r\n            vm.marks_list[response.key] = angular.copy(vm.mark);\r\n            vm.mark = {};\r\n            vm.saveMarkForm.$setPristine();\r\n            vm.saveMarkForm.$setUntouched();\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n    vm.remove_mark = function(id, mark, ev) {\r\n      ev.stopPropagation();\r\n\r\n      var\r\n        confirm = $mdDialog.confirm()\r\n            .title('Удаление метки')\r\n            .textContent('Вы уверены, что хотите удалить метку \"' + mark.name + '\"?')\r\n            .targetEvent(ev)\r\n            .clickOutsideToClose(true)\r\n            .ok('Удалить')\r\n            .cancel('Нет');\r\n\r\n      $mdDialog.show(confirm).then(\r\n        function() {\r\n          userMarks.removeMark(id).then(\r\n            function(response) {\r\n              delete vm.marks_list[id];\r\n              if (vm.current_mark_id === id) {\r\n                vm.mark = {};\r\n                vm.saveMarkForm.$setPristine();\r\n                vm.saveMarkForm.$setUntouched();\r\n              }\r\n              flashMethods.alertSuccess('Метка была успешно удалена!');\r\n            },\r\n            function(response) {\r\n              flashMethods.alertError('Извините, произошла ошибка!');\r\n            }\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('dashboard', {\r\n        url: '/dashboard',\r\n        templateUrl: 'app/dashboard/partials/dashboard.html',\r\n        controller: 'DashboardController',\r\n        controllerAs: 'dashboard'\r\n      })\r\n      .state('dashboard.record', {\r\n        url: '/record/:recordId',\r\n        templateUrl: 'app/dashboard/partials/record.html',\r\n        controller: 'RecordController',\r\n        controllerAs: 'record'\r\n      })\r\n      .state('dashboard.deductions_list', {\r\n        url: '/record/:recordId/deductions',\r\n        templateUrl: 'app/dashboard/partials/deductions_list.html',\r\n        controller: 'DeductionsListController',\r\n        controllerAs: 'deductions_list'\r\n      })\r\n      .state('dashboard.deduction', {\r\n        url: '/record/:recordId/deductions/:deductionId',\r\n        templateUrl: 'app/dashboard/partials/deduction.html',\r\n        controller: 'DeductionController',\r\n        controllerAs: 'deduction'\r\n      });\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('RecordController', RecordController);\r\n\r\n  RecordController.$inject = ['$scope', '$state', '$stateParams', '$mdDialog', 'dashboardApi', 'flashMethods', 'moment', '_'];\r\n\r\n  function RecordController($scope, $state, $stateParams, $mdDialog, dashboardApi, flashMethods, moment, _) {\r\n\r\n    var\r\n      vm = this,\r\n      m  = moment(),\r\n      defeult_total;\r\n\r\n    vm.title                 = $stateParams.recordId ? 'Редактировать запись' : 'Создать запись';\r\n    vm.submit_btn            = $stateParams.recordId ? 'Сохранить' : 'Создать';\r\n    vm.add_total_input       = $stateParams.recordId ? true : false;\r\n    vm.months                = moment.months();\r\n    vm.years                 = ['2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025', '2026'];\r\n    vm.current_months_index  = m.month();\r\n    vm.new_record            = {};\r\n\r\n    vm.update_created_at = function() {\r\n      vm.new_record.date           = vm.choosed_month + ' ' + vm.choosed_year;\r\n      vm.new_record.days_in_month  = moment(vm.new_record.date, 'MMMM YYYY').daysInMonth();\r\n      vm.new_record.created_at     = moment(vm.new_record.date, 'MMMM YYYY').format('MM.YYYY');\r\n    }\r\n\r\n    if (!$stateParams.recordId) {\r\n      vm.choosed_month  = vm.months[vm.current_months_index];\r\n      vm.choosed_year   = m.year();\r\n      vm.update_created_at();\r\n    } else {\r\n      dashboardApi.getRecord($stateParams.recordId).then(\r\n        function(response) {\r\n          vm.new_record     = response || {};\r\n          vm.choosed_month  = vm.new_record.date.split(' ')[0];\r\n          vm.choosed_year   = vm.new_record.date.split(' ')[1];\r\n          defeult_total     = vm.new_record.total;\r\n        },\r\n        function(response) {\r\n          flashMethods.alertError('Извините, произошла ошибка!');\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.update_total = function() {\r\n      vm.new_record.total = vm.add_to_total ? (defeult_total + vm.add_to_total) : defeult_total;\r\n    }\r\n\r\n    vm.save_record = function() {\r\n      vm.recordForm.$setSubmitted();\r\n\r\n      if (vm.recordForm.$invalid) return;\r\n\r\n      vm.new_record.sum_in_day     = (vm.new_record.total / vm.new_record.days_in_month).toFixed(2);\r\n\r\n      if ($stateParams.recordId) {\r\n        dashboardApi.updateRecord($stateParams.recordId, vm.new_record).then(\r\n          function(response) {\r\n            defeult_total   = vm.new_record.total;\r\n            vm.add_to_total = null;\r\n            flashMethods.alertSuccess('Запись была успешно обновлена!');\r\n          },\r\n          function(response) {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      } else {\r\n        dashboardApi.addRecord(vm.new_record).then(\r\n          function(response) {\r\n            vm.back();\r\n            flashMethods.alertSuccess('Запись была успешно создана!');\r\n          },\r\n          function(response) {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      }\r\n\r\n    }\r\n\r\n    vm.back = function() {\r\n      $state.go('dashboard', null, {reload: true});\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('DeductionsListController', DeductionsListController);\r\n\r\n  DeductionsListController.$inject = ['$scope', '$state', '$timeout', '$stateParams', '$mdDialog', 'dashboardApi', 'flashMethods', 'userMarks', 'moment',  'toArray', 'defaultDateFormat', '_'];\r\n\r\n  function DeductionsListController($scope, $state, $timeout, $stateParams, $mdDialog, dashboardApi, flashMethods, userMarks, moment, toArray, defaultDateFormat, _) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.list         = [];\r\n    vm.marks_list   = [];\r\n    vm.search_term  = '';\r\n    vm.current_mark = null;\r\n\r\n    vm.current_sort = {\r\n      column: 'created_at'\r\n    };\r\n\r\n    vm.columns = [\r\n      {\r\n        name: 'created_at',\r\n        label: 'Дата',\r\n        type: 'date'\r\n      },\r\n      {\r\n        name: 'mark',\r\n        label: 'Метка',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'description',\r\n        label: 'Описание',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'amount',\r\n        label: 'Сумма',\r\n        type: 'integer',\r\n        sort: true\r\n      }\r\n    ];\r\n\r\n    vm.searchParams = {\r\n      searchTerm: '',\r\n      marksList: {},\r\n      format: defaultDateFormat\r\n    };\r\n\r\n    dashboardApi.getRecord($stateParams.recordId).then(\r\n      function(response) {\r\n        vm.list    = toArray.create(response.deductions);\r\n        vm.title   = 'Список вычетов на ' + response.month;\r\n        vm.record  = response || {};\r\n\r\n        var amounts = _.pluck(vm.list, 'amount');\r\n        vm.deductions_result   = _.reduce(amounts, function(memo, num){ return memo + num; }, 0);\r\n        vm.deductions_residue  = vm.record.total - vm.deductions_result;\r\n      },\r\n      function(response) {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    userMarks.list().then(\r\n      function(response) {\r\n        vm.marks_list               = response || {};\r\n        vm.searchParams.marksList   = vm.marks_list;\r\n      },\r\n      function() {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.update_result = function() {\r\n      $timeout(function() {\r\n        var amounts = _.pluck($scope.filtered_list, 'amount');\r\n        vm.deductions_result   = _.reduce(amounts, function(memo, num){ return memo + num; }, 0);\r\n        vm.deductions_residue  = vm.record.total - vm.deductions_result;\r\n      }, 0);\r\n    }\r\n\r\n    vm.apply_sort = function(columnName) {\r\n      if (vm.current_sort.name !== columnName)\r\n        vm.current_sort.type   = '';\r\n\r\n      vm.current_sort.type    = vm.current_sort.type ? (vm.current_sort.type === 'asc' ? 'desc': '') : 'asc';\r\n      vm.current_sort.column  = vm.current_sort.type === 'desc' ? '-' + columnName : columnName;\r\n      vm.current_sort.name    = columnName;\r\n\r\n      if (!vm.current_sort.type)\r\n        vm.current_sort.column = 'created_at';\r\n    }\r\n\r\n    vm.remove_deduction = function(deductionId, ev) {\r\n      var\r\n        confirm = $mdDialog.confirm()\r\n            .title('Удаление вычета')\r\n            .textContent('Вы уверены, что хотите удалить данный вычет?')\r\n            .targetEvent(ev)\r\n            .clickOutsideToClose(true)\r\n            .ok('Удалить')\r\n            .cancel('Нет');\r\n\r\n      $mdDialog.show(confirm).then(\r\n        function() {\r\n          dashboardApi.removeDeduction($stateParams.recordId, deductionId).then(\r\n            function(response) {\r\n              vm.list = _.reject(vm.list, {id: deductionId});\r\n              flashMethods.alertSuccess('Вычет успешно удален!');\r\n            },\r\n            function(response) {\r\n              flashMethods.alertError('Извините, произошла ошибка!');\r\n            }\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n    vm.searchFilter = function(params) {\r\n      return function(item) {\r\n        if (!params.searchTerm) return true;\r\n        var result = [], mark, m, date;\r\n\r\n        _.each(item, function(value, key) {\r\n          if (key === '$$hashKey' || key === 'id') return;\r\n\r\n          if (key === 'mark') {\r\n            mark = params.marksList[value];\r\n            if (mark) {\r\n              if (~mark.name.toLowerCase().indexOf(params.searchTerm.toLowerCase()))\r\n                result.push(key);\r\n            }\r\n          } else {\r\n            if (~value.toString().indexOf(params.searchTerm)) {\r\n              result.push(key);\r\n            }\r\n          }\r\n        });\r\n\r\n        return result.length;\r\n      }\r\n    }\r\n\r\n    vm.back = function() {\r\n      $state.go('dashboard', null, {reload: true});\r\n    }\r\n\r\n    vm.add_deduction = function() {\r\n      $state.go('dashboard.deduction', {recordId: $stateParams.recordId});\r\n    }\r\n\r\n    vm.edit_deduction = function(deductionId) {\r\n      $state.go('dashboard.deduction', {recordId: $stateParams.recordId, deductionId: deductionId});\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('DeductionController', DeductionController);\r\n\r\n  DeductionController.$inject = ['$scope', '$state', '$stateParams', '$mdDialog', 'dashboardApi', 'flashMethods', 'moment', 'userMarks', '_'];\r\n\r\n  function DeductionController($scope, $state, $stateParams, $mdDialog, dashboardApi, flashMethods, moment, userMarks, _) {\r\n\r\n    var\r\n      vm = this;\r\n\r\n    vm.title           = $stateParams.deductionId ? 'Редактировать вычет' : 'Создать вычет';\r\n    vm.submit_btn      = $stateParams.deductionId ? 'Сохранить' : 'Создать';\r\n    vm.deduction       = {};\r\n    vm.marks_list      = {};\r\n    vm.from_state      = '';\r\n    vm.from_params     = null;\r\n\r\n    vm.back = function() {\r\n      $state.go(vm.from_state, vm.from_params, {reload: true});\r\n    }\r\n\r\n    vm.set_deduction_date = function() {\r\n      vm.deduction.created_at = moment(vm.picker_date).format('DD.MM.YYYY');\r\n    }\r\n\r\n    if (!$stateParams.deductionId) {\r\n      vm.picker_date     = new Date();\r\n      vm.picker_min_date = moment().startOf('month')._d;\r\n      vm.picker_max_date = moment().endOf('month')._d;\r\n\r\n      vm.set_deduction_date();\r\n    }\r\n\r\n    $scope.$on('$stateChangeSuccess', function(ev, toState, toParams, fromState, fromParams) {\r\n      vm.from_state = fromState.name || 'dashboard';\r\n      vm.from_params = toParams.recordId ? {recordId: toParams.recordId} : null;\r\n    });\r\n\r\n    if ($stateParams.recordId && $stateParams.deductionId) {\r\n      dashboardApi.getDeduction($stateParams.recordId, $stateParams.deductionId).then(\r\n        function(response) {\r\n          vm.deduction       = response || {};\r\n          vm.picker_date     = moment(vm.deduction.created_at, 'DD.MM.YYYY')._d;\r\n          vm.picker_min_date = moment(vm.deduction.created_at, 'DD.MM.YYYY').startOf('month')._d;\r\n          vm.picker_max_date = moment(vm.deduction.created_at, 'DD.MM.YYYY').endOf('month')._d;\r\n        },\r\n        function(response) {\r\n          flashMethods.alertError('Извините, произошла ошибка!');\r\n        }\r\n      );\r\n    }\r\n\r\n    userMarks.list().then(\r\n      function(response) {\r\n        vm.marks_list = response || {};\r\n      },\r\n      function() {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.save_deduction = function() {\r\n      vm.deductionForm.$setSubmitted();\r\n\r\n      if (vm.deductionForm.$invalid) return;\r\n\r\n      if ($stateParams.deductionId) {\r\n        dashboardApi.updateDeduction($stateParams.recordId, $stateParams.deductionId, vm.deduction).then(\r\n          function(response) {\r\n            flashMethods.alertSuccess('Вычет успешно обновлен!');\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      } else {\r\n        dashboardApi.createDeduction($stateParams.recordId, vm.deduction).then(\r\n          function(response) {\r\n            vm.deduction = {};\r\n            vm.deductionForm.$setPristine();\r\n            vm.deductionForm.$setUntouched();\r\n            flashMethods.alertSuccess('Вычет успешно создан!');\r\n          },\r\n          function() {\r\n            flashMethods.alertError('Извините, произошла ошибка!');\r\n          }\r\n        );\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('DashboardController', DashboardController);\r\n\r\n  DashboardController.$inject = ['$scope', '$state', '$mdDialog', 'dashboardApi', 'flashMethods', 'moment', 'toArray', '_'];\r\n\r\n  function DashboardController($scope, $state, $mdDialog, dashboardApi, flashMethods, moment, toArray, _) {\r\n\r\n    var\r\n      vm = this,\r\n      m  = moment();\r\n\r\n    vm.list            = [];\r\n    vm.items_per_page  = 12;\r\n    vm.search_term     = '';\r\n\r\n    vm.current_sort    = {\r\n      column: 'created_at'\r\n    };\r\n\r\n    vm.searchParams = {\r\n      searchTerm: '',\r\n      format: 'MMMM YYYY'\r\n    };\r\n\r\n    vm.columns = [\r\n      {\r\n        name: 'date',\r\n        label: 'Дата',\r\n        type: 'date',\r\n      },\r\n      {\r\n        name: 'total',\r\n        label: 'Общая сумма',\r\n        type: 'integer',\r\n        sort: true\r\n      },\r\n      {\r\n        name: 'sum_amounts',\r\n        label: 'Всего потрачено',\r\n        type: 'integer',\r\n        sort: true\r\n      },\r\n      {\r\n        name: 'residue_from_total',\r\n        label: 'Остаток',\r\n        type: 'integer',\r\n        sort: true\r\n      },\r\n      {\r\n        name: 'sum_in_day',\r\n        label: 'Макс. в день',\r\n        type: 'integer'\r\n      }\r\n    ];\r\n\r\n    dashboardApi.list().then(\r\n      function(response) {\r\n        vm.list = toArray.create(response);\r\n        vm.list = _.each(vm.list, function(item) {\r\n          item.sum_amounts            = vm.get_sum_amounts(item.deductions, 'amount');\r\n          item.residue_from_total     = item.total - item.sum_amounts;\r\n        });\r\n\r\n        vm.all_record_total    = vm.get_sum_amounts(vm.list, 'total');\r\n        vm.all_record_result   = vm.get_sum_amounts(vm.list, 'sum_amounts');\r\n        vm.all_record_residue  = vm.get_sum_amounts(vm.list, 'residue_from_total');\r\n      },\r\n      function(response) {\r\n        flashMethods.alertError('Извините, произошла ошибка!');\r\n      }\r\n    );\r\n\r\n    vm.apply_sort = function(columnName) {\r\n      if (vm.current_sort.name !== columnName)\r\n        vm.current_sort.type   = '';\r\n\r\n      vm.current_sort.type    = vm.current_sort.type ? (vm.current_sort.type === 'asc' ? 'desc': '') : 'asc';\r\n      vm.current_sort.column  = vm.current_sort.type === 'desc' ? '-' + columnName : columnName;\r\n      vm.current_sort.name    = columnName;\r\n\r\n      if (!vm.current_sort.type)\r\n        vm.current_sort.column = 'created_at';\r\n    }\r\n\r\n    vm.get_sum_amounts = function(list, columnName) {\r\n      var keys = _.pluck(list, columnName);\r\n      return _.reduce(keys, function(memo, num){ return memo + num; }, 0);\r\n    }\r\n\r\n    vm.add_record = function() {\r\n      $state.go('dashboard.record');\r\n    }\r\n\r\n    vm.edit_record = function(recordId) {\r\n      $state.go('dashboard.record', {recordId: recordId});\r\n    }\r\n\r\n    vm.add_deduction = function(recordId) {\r\n      $state.go('dashboard.deduction', {recordId: recordId});\r\n    }\r\n\r\n    vm.deductions_list = function(recordId) {\r\n      $state.go('dashboard.deductions_list', {recordId: recordId});\r\n    }\r\n\r\n    vm.close_dialog = function() {\r\n      $mdDialog.cancel();\r\n    }\r\n\r\n    vm.remove_record = function(recordId, ev) {\r\n      var\r\n        confirm = $mdDialog.confirm()\r\n            .title('Удаление записи')\r\n            .textContent('Вы уверены, что хотите удалить запись?')\r\n            .targetEvent(ev)\r\n            .clickOutsideToClose(true)\r\n            .ok('Удалить')\r\n            .cancel('Нет');\r\n\r\n      $mdDialog.show(confirm).then(\r\n        function() {\r\n          dashboardApi.removeRecord(recordId).then(\r\n            function(response) {\r\n              vm.list = _.reject(vm.list, {id: recordId});\r\n              flashMethods.alertSuccess('Запись была успешно удалена!');\r\n            },\r\n            function(response) {\r\n              flashMethods.alertError('Извините, произошла ошибка!');\r\n            }\r\n          );\r\n        }\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider) {\r\n    $stateProvider\r\n      .state('sign_in', {\r\n        url: '/sign_in',\r\n        templateUrl: 'app/auth/sign_in/partials/sign_in.html',\r\n        controller: 'SignInController',\r\n        controllerAs: 'sign_in'\r\n      })\r\n      .state('sign_up', {\r\n        url: '/sign_up',\r\n        templateUrl: 'app/auth/sign_up/partials/sign_up.html',\r\n        controller: 'SignUpController',\r\n        controllerAs: 'sign_up'\r\n      })\r\n      .state('confirmation_email', {\r\n        url: '/sign_up/confirmation_email',\r\n        templateUrl: 'app/auth/sign_up/partials/confirmation_email.html',\r\n        resolve: {\r\n          isEmail: function($state, $timeout, $cookies, $q) {\r\n            var deferred = $q.defer();\r\n\r\n            if ($cookies.get('confirmation_send')) {\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('verify_email', {\r\n        url: '/sign_up/verify_email',\r\n        templateUrl: 'app/auth/sign_up/partials/verify_email.html',\r\n        controller: 'SignUpController',\r\n        controllerAs: 'sign_up',\r\n        resolve: {\r\n          verifyEmail: function($state, $timeout, $cookies, $location, $q) {\r\n            var\r\n              deferred   = $q.defer(),\r\n              url_params = $location.search(),\r\n              mode       = url_params.mode;\r\n\r\n            if (url_params.oobCode && mode === 'verifyEmail') {\r\n              $cookies.remove('confirmation_send');\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('confirm_email', {\r\n        url: '/confirm_email',\r\n        templateUrl: 'app/auth/forgot_password/partials/confirm_email.html',\r\n        controller: 'ForgotPasswordController',\r\n        controllerAs: 'forgot_password'\r\n      })\r\n      .state('confirm_password', {\r\n        url: '/change_password',\r\n        templateUrl: 'app/auth/forgot_password/partials/confirm_password.html',\r\n        controller: 'ForgotPasswordController',\r\n        controllerAs: 'forgot_password',\r\n        resolve: {\r\n          checkCode: function($state, $timeout, $location, $q) {\r\n            var\r\n              deferred   = $q.defer(),\r\n              url_params = $location.search(),\r\n              mode       = url_params.mode;\r\n\r\n            if (url_params.oobCode && mode === 'resetPassword') {\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('confirm_email_success', {\r\n        url: '/confirm_email_success',\r\n        templateUrl: 'app/auth/forgot_password/partials/confirm_email_success.html',\r\n        resolve: {\r\n          checkParamsCode: function($state, $timeout, $cookies, $q) {\r\n            var deferred = $q.defer();\r\n\r\n            if ($cookies.get('email_confirmation')) {\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      })\r\n      .state('change_password_success', {\r\n        url: '/change_password_success',\r\n        templateUrl: 'app/auth/forgot_password/partials/change_success.html',\r\n        resolve: {\r\n          checkParamsCode: function($state, $timeout, $cookies, $q) {\r\n            var deferred = $q.defer();\r\n\r\n            if ($cookies.get('change_password')) {\r\n              $cookies.remove('email_confirmation');\r\n              deferred.resolve();\r\n            } else {\r\n              deferred.reject();\r\n              $timeout(function() { $state.go('home') }, 0);\r\n            }\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .run(runBlock);\r\n\r\n  /** @ngInject */\r\n  function runBlock($rootScope, $state, Auth, appConfig) {\r\n\r\n    $rootScope.preloaderClass = false;\r\n\r\n    $rootScope.preloaderActiveClass = function(bool) {\r\n      $rootScope.preloaderClass = bool;\r\n    }\r\n\r\n    $rootScope.headerHide = true;\r\n    $rootScope.states_for_anonymous = ['home', 'sign_in', 'sign_up', 'confirmation_email', 'verify_email', 'confirm_email',\r\n                                      'confirm_email_success', 'confirm_password', 'change_password_success', 'auth_action'];\r\n\r\n    $rootScope.$on('$stateChangeSuccess', function(ev, toState) {\r\n      $rootScope.headerHide = _.contains($rootScope.states_for_anonymous, toState.name);\r\n\r\n      if (appConfig.user) {\r\n        if ($rootScope.headerHide) {\r\n          ev.preventDefault();\r\n          $state.go('dashboard');\r\n        }\r\n      } else {\r\n        if (!$rootScope.headerHide) {\r\n          ev.preventDefault();\r\n          $state.go('logout');\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(routerConfig);\r\n\r\n  /** @ngInject */\r\n  function routerConfig($stateProvider, $urlRouterProvider, $locationProvider) {\r\n    $stateProvider\r\n      .state('home', {\r\n        url: '/',\r\n        templateUrl: 'app/auth/auth.html'\r\n      })\r\n      .state('logout', {\r\n        url: '/logout',\r\n        resolve: {\r\n          userLogout: function($state, Auth) {\r\n            // Auth.removeToken();\r\n            Auth.logout().then(\r\n              function(response) {\r\n                $state.go('sign_in');\r\n              },\r\n              function(response) {\r\n                $state.go('sign_in');\r\n              }\r\n            )\r\n          }\r\n        }\r\n      })\r\n      .state('auth_action', {\r\n        url: '/auth_action',\r\n        resolve: {\r\n          redirect: function($state, $timeout, $location, $cookies, $q, $window) {\r\n            var\r\n              deferred      = $q.defer(),\r\n              url_params    = $location.search(),\r\n              absUrl        = $location.absUrl(),\r\n              path          = $location.path(),\r\n              mode          = url_params.mode,\r\n              redirect_url  = '',\r\n              url           = '';\r\n\r\n            $timeout(function() {\r\n              if (mode) {\r\n                if (mode === 'verifyEmail')\r\n                  redirect_url = '/sign_up/verify_email';\r\n                else if (mode === 'resetPassword')\r\n                  redirect_url = '/change_password';\r\n\r\n                url = absUrl.replace(path, redirect_url);\r\n\r\n                $window.location.href = url;\r\n              } else {\r\n                $state.go('home');\r\n              }\r\n            }, 0);\r\n\r\n            deferred.reject();\r\n            return deferred.promise;\r\n          }\r\n        }\r\n      });\r\n\r\n    $urlRouterProvider.otherwise(function($ingector) {\r\n      var\r\n        $state    = $ingector.get('$state'),\r\n        appConfig = $ingector.get('appConfig'),\r\n        redirect  = $state.current.name || (appConfig.user ? 'dashboard' : 'home');\r\n\r\n      $state.go(redirect);\r\n    });\r\n\r\n    $locationProvider.html5Mode(true);\r\n  }\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .controller('IndexController', IndexController);\r\n\r\n  IndexController.$inject = ['$scope', '$timeout', '$mdComponentRegistry'];\r\n\r\n  function IndexController($scope, $timeout, $mdComponentRegistry) {\r\n\r\n    var vm = this;\r\n\r\n    $scope.mdSidenavInit = function() {\r\n      $scope.toggle = angular.noop;\r\n      $scope.isOpen = angular.noop;\r\n\r\n      $mdComponentRegistry\r\n        .when('sidebar-left')\r\n        .then(function(sideNav){\r\n          $scope.isOpen = angular.bind(sideNav, sideNav.isOpen );\r\n          $scope.toggle = angular.bind(sideNav, sideNav.toggle );\r\n        });\r\n    }\r\n\r\n    $scope.$on('login_animation', function() {\r\n        vm.login_animation = true;\r\n        $timeout(function() {\r\n          vm.login_animation = false;\r\n        }, 2000);\r\n    });\r\n\r\n  }\r\n\r\n})();\r\n\n/* global malarkey:false, moment:false */\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .constant('moment', moment)\r\n    .constant('firebase', firebase)\r\n    .constant('_', _)\r\n    .constant('defaultDateFormat', 'L')\r\n    .constant('regExpEmail', '^([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)@([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)[\\\\.]([a-zA-Z]{2,9})$');\r\n\r\n})();\r\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('moneyMonitoring')\r\n    .config(httpProviderConfig)\r\n    .config(materialThemeConfig)\r\n    .config(datepickerConfig);\r\n\r\n  /** @ngInject */\r\n  function httpProviderConfig($logProvider, $httpProvider) {\r\n    // Enable log\r\n    $logProvider.debugEnabled(true);\r\n\r\n    $httpProvider.interceptors.push(beautifyInterceptor);\r\n  }\r\n\r\n  function beautifyInterceptor($q, Preloader) {\r\n    return {\r\n      request: function(config) {\r\n        Preloader.openPreloader();\r\n        return config;\r\n      },\r\n      requestError: function(config) {\r\n        Preloader.closePreloader();\r\n        return $q.reject(config);\r\n      },\r\n      response: function(res) {\r\n        Preloader.closePreloader();\r\n        return res;\r\n      },\r\n      responseError: function(res) {\r\n        Preloader.closePreloader();\r\n        return $q.reject(res);\r\n      }\r\n    }\r\n  }\r\n\r\n  function materialThemeConfig($mdThemingProvider){\r\n\r\n      var\r\n        primaryBlueMap = $mdThemingProvider.extendPalette('blue', {\r\n          '500': '#1088DE', // Default\r\n          '600': '#1669b1'  // Hover\r\n        }),\r\n        accentGreenMap = $mdThemingProvider.extendPalette('light-green', {\r\n          'A200': '#ABD036', // Default\r\n          'A700': '#94b725', // Hover\r\n          'contrastDefaultColor': 'light'\r\n        }),\r\n        warnRedMap = $mdThemingProvider.extendPalette('red', {\r\n          '500': '#D94740', // Defalt\r\n          '600': '#b32926'  // Hover\r\n        }),\r\n        bgGreyMap = $mdThemingProvider.extendPalette('grey', {\r\n          '50': '#f2f2f2' // Default background\r\n        });\r\n\r\n      $mdThemingProvider.definePalette('primaryBlue', primaryBlueMap);\r\n      $mdThemingProvider.definePalette('accentGreen', accentGreenMap);\r\n      $mdThemingProvider.definePalette('warnRed', warnRedMap);\r\n      $mdThemingProvider.definePalette('bgGrey', bgGreyMap);\r\n      \r\n      $mdThemingProvider\r\n        .theme('default')\r\n        .primaryPalette('primaryBlue')\r\n        .accentPalette('accentGreen')\r\n        .warnPalette('warnRed')\r\n        .backgroundPalette('bgGrey');\r\n    }\r\n\r\n    function datepickerConfig($mdDateLocaleProvider, moment, defaultDateFormat) {\r\n      moment.locale('ru');\r\n\r\n      $mdDateLocaleProvider.months          = moment.months();\r\n      $mdDateLocaleProvider.shortMonths     = moment.monthsShort();\r\n      $mdDateLocaleProvider.days            = moment.weekdays();\r\n      $mdDateLocaleProvider.shortDays       = moment.weekdaysMin();\r\n      $mdDateLocaleProvider.firstDayOfWeek  = 1;\r\n\r\n      $mdDateLocaleProvider.formatDate = function(date) {\r\n        var m = moment(date);\r\n        return m.isValid() ? m.format(defaultDateFormat) : date;\r\n      };\r\n    }\r\n\r\n\r\n\r\n})();\r\n\nangular.module(\"moneyMonitoring\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/auth/auth.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Добро пожаловать</h2><div class=\\\"welcome md-subhead\\\">Войдите или зарегистрируйтесь.</div><div class=button-wrap><md-button ui-sref=sign_in class=\\\"md-primary md-raised\\\">Вход</md-button><md-button ui-sref=sign_up class=md-raised>Регистрация</md-button></div></div>\");\n$templateCache.put(\"app/components/header/header.html\",\"<md-toolbar class=main-header><div class=md-toolbar-tools><div flex class=left-side><md-button class=\\\"md-icon-button btn-sandwich\\\" aria-label=menu ng-click=toggle() ng-class=\\\"{\\'sidebar-open\\': isOpen()}\\\"><span class=top-part></span><span class=middle-part></span><span class=bottom-part></span></md-button></div><div flex class=\\\"senter-side align-center\\\"><div class=\\\"logo small\\\"><a ui-sref=home>Money Monitoring</a></div></div><div flex class=right-side><div ng-bind=header.user_name class=user-name></div><md-button class=md-icon-button aria-label=settings ui-sref=settings.marks><i class=\\\"fa fa-cog\\\"></i></md-button><md-button class=md-icon-button aria-label=logout ui-sref=logout><i class=\\\"fa fa-sign-out\\\"></i></md-button></div></div></md-toolbar>\");\n$templateCache.put(\"app/components/sidebar/sidebar.html\",\"<md-sidenav md-disable-backdrop class=md-sidenav-left md-component-id=sidebar-left md-whiteframe=4><md-toolbar class=md-theme-indigo><h1 class=md-toolbar-tools>Disabled Backdrop</h1><md-content><p>This sidenav is not showing any backdrop, where users can click on it, to close the sidenav.</p><md-button ng-click=index.toggleLeft() class=md-accent>Close this Sidenav</md-button></md-content></md-toolbar></md-sidenav>\");\n$templateCache.put(\"app/components/pagination/pagination.html\",\"<div ng-if=\\\"1 &lt; pages.length || !autoHide\\\" class=pagination><span ng-bind=\\\"range.lower + \\'-\\' + range.upper + \\' из \\' + range.total\\\"></span><md-button ng-if=boundaryLinks class=md-icon-button aria-label=first ng-click=setCurrent(1) ng-disabled=\\\"pagination.current == 1\\\"><i class=\\\"fa fa-chevron-left\\\"></i></md-button><md-button ng-if=directionLinks class=md-icon-button aria-label=first ng-click=\\\"setCurrent(pagination.current - 1)\\\" ng-disabled=\\\"pagination.current == 1\\\"><i class=\\\"fa fa-chevron-left\\\"></i></md-button><md-button ng-if=false ng-repeat=\\\"pageNumber in pages track by tracker(pageNumber, $index)\\\" class=md-icon-button aria-label=first ng-click=\\\"setCurrent(pagination.current - 1)\\\" ng-class=\\\"{ active : pagination.current == pageNumber}\\\" ng-disabled=\\\"pageNumber == \\'...\\'\\\"><span ng-bind=pageNumber></span></md-button><md-button ng-if=directionLinks class=md-icon-button aria-label=last ng-click=\\\"setCurrent(pagination.current + 1)\\\" ng-disabled=\\\"pagination.current == pagination.last\\\"><i class=\\\"fa fa-chevron-right\\\"></i></md-button><md-button ng-if=boundaryLinks class=md-icon-button aria-label=last ng-click=setCurrent(pagination.last) ng-disabled=\\\"pagination.current == pagination.last\\\"><i class=\\\"fa fa-chevron-right\\\"></i></md-button></div>\");\n$templateCache.put(\"app/settings/partials/marks.html\",\"<div class=\\\"md-title mb-30\\\">Метки</div><div class=max-width><div class=md-subhead>Список меток</div><div class=marks-list><div layout=row layout-align=\\\"space-between center\\\" ng-repeat=\\\"(key, value) in marks.marks_list\\\" ng-click=marks.choose_mark(key) ng-class=\\\"{\\'active\\': key === marks.current_mark_id}\\\" class=mark><span ng-bind=value.name></span><md-button class=md-icon-button ng-click=\\\"marks.remove_mark(key, value, $event)\\\" aria-label=remove><i class=\\\"fa fa-times\\\"></i></md-button></div></div><form name=marks.saveMarkForm class=last-item-no-margin ng-submit=marks.save_mark()><md-input-container class=md-block><label>Название метки</label><input required type=text ng-model=marks.mark.name></md-input-container><div class=button-holder><md-button class=\\\"md-raised md-primary\\\" type=submit aria-label=save>Сохранить</md-button></div></form></div>\");\n$templateCache.put(\"app/settings/partials/profile.html\",\"profile\");\n$templateCache.put(\"app/settings/partials/settings.html\",\"<div class=view-content><md-card class=md-whiteframe-2dp><md-card-header><div class=md-headline>Основные настройки</div></md-card-header><md-tabs class=\\\"md-accent tabs-list\\\" md-selected=settings.selectedIndex><md-tab ng-repeat=\\\"item in settings.navLinks\\\" label={{item.label}} ui-sref={{item.state}} ui-sref-active=active></md-tab></md-tabs><md-card-content><ui-view></ui-view></md-card-content><md-card-footer></md-card-footer></md-card></div>\");\n$templateCache.put(\"app/dashboard/partials/dashboard.html\",\"<div class=view-content><ui-view><md-card class=md-whiteframe-2dp><md-card-header layout=row layout-align=\\\"space-between center\\\"><div class=md-headline>Главная</div><div class=search-block><md-input-container md-no-float class=\\\"md-icon-left md-block\\\"><md-icon><i class=\\\"fa fa-search\\\"></i></md-icon><input type=text placeholder=Поиск ng-model=dashboard.searchParams.searchTerm></md-input-container></div></md-card-header><md-card-content class=no-padding><div class=table-wrap><div class=main-table><div class=table-head><div class=table-row><div ng-repeat=\\\"column in dashboard.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=column.label></span><span ng-if=column.sort class=sort_btn ng-click=dashboard.apply_sort(column.name) ng-class=\\\"{\\'asc\\': dashboard.current_sort.type === \\'asc\\' &amp;&amp; dashboard.current_sort.name === column.name, \\'desc\\': dashboard.current_sort.type === \\'desc\\' &amp;&amp; dashboard.current_sort.name === column.name}\\\"><i class=\\\"fa fa-sort-asc\\\"></i><i class=\\\"fa fa-sort-desc\\\"></i></span></div><div class=table-cell></div></div></div><div class=table-body><div dir-paginate=\\\"(key, value) in dashboard.list | orderBy: dashboard.current_sort.column | filter: dashboard.searchParams.searchTerm | itemsPerPage: dashboard.items_per_page\\\" class=table-row><div ng-repeat=\\\"column in dashboard.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=value[column.name]></span></div><div class=\\\"table-cell action-block\\\"><md-button class=md-icon-button ng-click=dashboard.edit_record(value.id) aria-label=\\\"edit record\\\"><i class=\\\"fa fa-edit\\\"></i></md-button><md-button class=md-icon-button ng-click=dashboard.deductions_list(value.id) aria-label=\\\"deductions list\\\"><i class=\\\"fa fa-eye\\\"></i></md-button><md-button class=md-icon-button ng-click=dashboard.add_deduction(value.id) aria-label=\\\"add deduction\\\"><i class=\\\"fa fa-usd\\\"></i></md-button><md-button class=md-icon-button ng-click=\\\"dashboard.remove_record(value.id, $event)\\\" aria-label=remove><i class=\\\"fa fa-trash-o\\\"></i></md-button></div></div><div class=\\\"table-row result-row\\\"><div class=table-cell>Итого</div><div data-type=integer class=table-cell><span class=result-text>Общая сумма:</span><span ng-bind=dashboard.all_record_total class=font-bold></span></div><div data-type=integer class=table-cell><span class=result-text>Всего потрачено:</span><span ng-bind=dashboard.all_record_result class=font-bold></span></div><div data-type=integer class=\\\"table-cell residue\\\"><span class=result-text>Остаток:</span><span ng-bind=dashboard.all_record_residue class=font-bold></span></div><div class=table-cell></div><div class=table-cell></div></div></div></div></div></md-card-content><md-card-footer><div layout=row layout-align=\\\"space-between center\\\" class=footer-wrap><md-button class=\\\"md-raised md-primary\\\" ng-click=dashboard.add_record()>Добавить месяц</md-button><dir-pagination-controls template-url=app/components/pagination/pagination.html></dir-pagination-controls></div></md-card-footer></md-card></ui-view></div>\");\n$templateCache.put(\"app/dashboard/partials/deduction.html\",\"<md-card class=md-whiteframe-2dp><md-card-header><div ng-bind=deduction.title class=md-headline></div></md-card-header><md-card-content><div class=max-width><form name=deduction.deductionForm ng-submit=deduction.save_deduction() class=last-item-no-margin><md-input-container class=md-block><label>Сумма вычета</label><input required name=amount min=0 type=number ng-model=deduction.deduction.amount><div ng-messages=deduction.deductionForm.amount.$error><div ng-message=required>Поле нужно заполнить</div><div ng-message=min>Не может быть отрицательным</div></div></md-input-container><md-input-container class=md-block><label>Метка</label><md-select ng-model=deduction.deduction.mark><md-option ng-value=key ng-repeat=\\\"(key, mark) in deduction.marks_list\\\"><span ng-bind=mark.name></span></md-option></md-select><span class=errors-reserve></span></md-input-container><md-input-container class=md-block><label>Описание</label><textarea ng-model=deduction.deduction.description></textarea></md-input-container><div class=datepicker-input-container><md-datepicker md-open-on-focus class=hide-icon ng-model=deduction.picker_date md-min-date=deduction.picker_min_date md-max-date=deduction.picker_max_date md-placeholder=\\\"Выбрать дату\\\" ng-change=deduction.set_deduction_date()></md-datepicker></div><div class=button-holder><md-button type=submit class=\\\"md-raised md-primary\\\" aria-label=\\\"save deduction\\\"><span ng-bind=deduction.submit_btn></span></md-button><md-button class=md-raised ng-click=deduction.back() aria-label=back>Назад</md-button></div></form></div></md-card-content><md-card-footer></md-card-footer></md-card>\");\n$templateCache.put(\"app/dashboard/partials/deductions_list.html\",\"<md-card class=md-whiteframe-2dp><md-card-header layout=row layout-align=\\\"space-between center\\\"><div ng-bind=deductions_list.title class=md-headline></div><div class=search-block><md-input-container md-no-float class=\\\"md-icon-left md-block\\\"><md-icon><i class=\\\"fa fa-search\\\"></i></md-icon><input type=text placeholder=Поиск ng-model=deductions_list.searchParams.searchTerm ng-change=deductions_list.update_result()></md-input-container></div></md-card-header><md-card-content class=no-padding><div class=table-wrap><div class=main-table><div class=table-head><div class=table-row><div ng-repeat=\\\"column in deductions_list.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=column.label></span><span ng-if=column.sort class=sort_btn ng-click=deductions_list.apply_sort(column.name) ng-class=\\\"{\\'asc\\': deductions_list.current_sort.type === \\'asc\\' &amp;&amp; deductions_list.current_sort.name === column.name, \\'desc\\': deductions_list.current_sort.type === \\'desc\\' &amp;&amp; deductions_list.current_sort.name === column.name}\\\"><i class=\\\"fa fa-sort-asc\\\"></i><i class=\\\"fa fa-sort-desc\\\"></i></span></div><div class=table-cell></div></div></div><div class=table-body><div ng-repeat=\\\"(key, value) in deductions_list.list | orderBy: deductions_list.current_sort.column | filter: deductions_list.searchFilter(deductions_list.searchParams) as filtered_list\\\" class=table-row><div ng-repeat=\\\"column in deductions_list.columns\\\" data-type={{column.type}} class=table-cell><span ng-bind=\\\"(column.name === \\'mark\\' ? (deductions_list.marks_list[value[column.name]].name) : value[column.name])\\\"></span></div><div class=\\\"table-cell action-block\\\"><md-button class=md-icon-button ng-click=deductions_list.edit_deduction(value.id) aria-label=\\\"edit deduction\\\"><i class=\\\"fa fa-pencil-square-o\\\"></i></md-button><md-button class=md-icon-button ng-click=\\\"deductions_list.remove_deduction(value.id, $event)\\\" aria-label=\\\"remove deduction\\\"><i class=\\\"fa fa-trash-o\\\"></i></md-button></div></div><div class=\\\"table-row result-row\\\"><div class=table-cell>Итого</div><div class=table-cell></div><div data-type=integer class=table-cell><span class=result-text>Общая сумма:</span><span ng-bind=deductions_list.record.total class=font-bold></span></div><div data-type=integer class=table-cell><span class=result-text>Всего потрачено:</span><span ng-bind=deductions_list.deductions_result class=font-bold></span></div><div data-type=integer class=\\\"table-cell residue\\\"><span class=result-text>Остаток:</span><span ng-bind=deductions_list.deductions_residue class=font-bold></span></div></div></div></div></div></md-card-content><md-card-footer><div layout=row layout-align=\\\"space-between center\\\" class=footer-wrap><div class=button-holder><md-button class=\\\"md-raised md-primary\\\" ng-click=deductions_list.add_deduction() aria-label=back>Добавить вычет</md-button><md-button class=md-raised ng-click=deductions_list.back() aria-label=back>Назад</md-button></div><dir-pagination-controls template-url=app/components/pagination/pagination.html></dir-pagination-controls></div></md-card-footer></md-card>\");\n$templateCache.put(\"app/dashboard/partials/record.html\",\"<md-card class=md-whiteframe-2dp><md-card-header><div ng-bind=record.title class=md-headline></div></md-card-header><md-card-content><div class=max-width><form name=record.recordForm class=last-item-no-margin><md-input-container class=md-block><label>Введите сумму</label><input required name=total type=number ng-model=record.new_record.total ng-disabled=record.add_to_total><div ng-messages=record.recordForm.total.$error><div ng-message=required>Поле нужно заполнить</div></div></md-input-container><md-input-container class=md-block ng-if=record.add_total_input><label>Или введите значение, на которое нужно увеличить</label><input type=number ng-model=record.add_to_total ng-change=record.update_total()></md-input-container><md-input-container class=md-block><label>Месяц</label><md-select ng-model=record.choosed_month ng-change=record.update_created_at()><md-option ng-value=month ng-repeat=\\\"month in record.months\\\"><span ng-bind=month></span></md-option></md-select><span class=errors-reserve></span></md-input-container><md-input-container class=md-block><label>Год</label><md-select ng-model=record.choosed_year ng-change=record.update_created_at()><md-option ng-value=year ng-repeat=\\\"year in record.years\\\"><span ng-bind=year></span></md-option></md-select><span class=errors-reserve></span></md-input-container></form></div></md-card-content><md-card-footer><md-button class=\\\"md-raised md-primary\\\" ng-click=record.save_record($event) aria-label=\\\"save record\\\"><span ng-bind=record.submit_btn></span></md-button><md-button class=md-raised ng-click=record.back() aria-label=back>Назад</md-button></md-card-footer></md-card>\");\n$templateCache.put(\"app/auth/forgot_password/partials/change_success.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Пароль успешно изменен!</div><div class=md-subhead>Теперь вы можете войти под новым паролем.</div><div class=button-wrap><md-button ui-sref=sign_in class=\\\"md-primary md-raised\\\">Войти</md-button></div></div></div>\");\n$templateCache.put(\"app/auth/forgot_password/partials/confirm_email.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Восстановление пароля</h2><div class=\\\"md-subhead align-center max-width\\\">Введите ваш email адрес. Вам будет отправлено письмо с дальнейшими инструкциями.</div><div class=form-wrap><form name=forgot_password.confirmEmailForm ng-submit=forgot_password.confirm_email()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{forgot_password.regExpEmail}} type=email name=email ng-model=forgot_password.user.email autofocus><div ng-messages=forgot_password.confirmEmailForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=forgot_password.errors.errors.email></span></div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\">Продолжить</md-button></div></form></div></div>\");\n$templateCache.put(\"app/auth/forgot_password/partials/confirm_email_success.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Восстановление пароля</div><div class=md-subhead>Для изменения пароля вам было выслано письмо на почту с дальнейшими инструкциями. Обратите внимание, что письма иногда попадают в спам.</div></div></div>\");\n$templateCache.put(\"app/auth/forgot_password/partials/confirm_password.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1 ng-bind=forgot_password.title>Восстановление пароля</h2><div ng-bind=forgot_password.content class=\\\"md-subhead align-center\\\">Введите новый пароль.</div><div ng-if=forgot_password.verify_status class=form-wrap><form name=forgot_password.confirmPasswordForm ng-submit=forgot_password.confirm_password()><md-input-container class=md-block><label>Пароль</label><input required input-errors type=password name=password minlength=6 ng-model=forgot_password.user.password autofocus><div ng-messages=forgot_password.confirmPasswordForm.password.$error><div ng-message=minlength>Пароль не может быть меньше 6 символов!</div><div ng-message=password><span ng-bind=forgot_password.errors.errors.password></span></div></div></md-input-container><md-input-container class=md-block><label>Повторите пароль</label><input required confirm-password type=password name=password_confirmation ng-model=forgot_password.user.password_confirmation autocomplete=new-password><div ng-messages=forgot_password.confirmPasswordForm.password_confirmation.$error><div ng-message=password_confirmation>Должно соответствовать паролю.</div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\">Сохранить</md-button></div></form></div></div>\");\n$templateCache.put(\"app/auth/sign_up/partials/confirmation_email.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div class=md-headline>Регистрация почти завершена!</div><div class=md-subhead>Для подтверждения регистрации на указанный вами email адрес было выслано письмо с дальнейшими инструкциями. Обратите внимание, что письма иногда попадают в спам.</div></div></div>\");\n$templateCache.put(\"app/auth/sign_up/partials/sign_up.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Регистрация</h2><div class=\\\"md-subhead align-center\\\">Введите существующий email адрес.</div><div class=form-wrap><form name=sign_up.signUpForm ng-submit=sign_up.registration()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{sign_up.regExpEmail}} type=email name=email ng-model=sign_up.user.email autocomplete=new-email><div ng-messages=sign_up.signUpForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=sign_up.errors.errors.email></span></div></div></md-input-container><md-input-container class=md-block><label>Пароль</label><input required input-errors type=password name=password ng-model=sign_up.user.password minlength=6 autocomplete=new-password><div ng-messages=sign_up.signUpForm.password.$error><div ng-message=minlength>Пароль не может быть меньше 6 символов!</div><div ng-message=password><span ng-bind=sign_up.errors.errors.password></span></div></div></md-input-container><md-input-container class=md-block><label>Повторите пароль</label><input required confirm-password type=password name=password_confirmation ng-model=sign_up.user.password_confirmation autocomplete=new-password><div ng-messages=sign_up.signUpForm.password_confirmation.$error><div ng-message=password_confirmation>Должно соответствовать паролю.</div></div></md-input-container><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\" ng-disabled=sign_up.signUpForm.$invalid>Зарегистрироваться</md-button></div></form></div></div>\");\n$templateCache.put(\"app/auth/sign_up/partials/verify_email.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><div class=done><div ng-bind=sign_up.title class=md-headline></div><div ng-bind=sign_up.content class=md-subhead></div><div ng-if=sign_up.verify_status class=button-wrap><md-button ui-sref=sign_in class=\\\"md-primary md-raised\\\">Войти</md-button></div></div></div>\");\n$templateCache.put(\"app/auth/sign_in/partials/sign_in.html\",\"<div flex layout=column layout-align=\\\"center center\\\" class=auth-wrap><div class=logo><a ui-sref=home>Money Monitoring</a></div><h2 class=md-display-1>Вход</h2><div class=form-wrap><form name=sign_in.signInForm ng-submit=sign_in.login()><md-input-container class=md-block><label>Email</label><input required input-errors pattern={{sign_in.regExpEmail}} type=email name=email ng-model=sign_in.user.email autofocus><div ng-messages=sign_in.signInForm.email.$error><div ng-message=pattern>Не корректный email адрес.</div><div ng-message=email><span ng-bind=sign_in.errors.errors.email></span><a class=send-email-btn ng-click=sign_in.send_email() ng-if=sign_in.send_again>Отправить еще раз</a></div></div></md-input-container><md-input-container class=\\\"md-block mb-0\\\"><label>Пароль</label><input required input-errors type=password name=password ng-model=sign_in.user.password><div ng-messages=sign_in.signInForm.password.$error><div ng-message=password><span ng-bind=sign_in.errors.errors.password></span></div></div></md-input-container><div class=forgot-password-btn><a ui-sref=confirm_email class=forgot_password>Забыли пароль?</a></div><div class=button-wrap><md-button ui-sref=home class=md-raised>Назад</md-button><md-button type=submit class=\\\"md-primary md-raised\\\">Вход</md-button></div></form></div></div>\");}]);"],"sourceRoot":"/source/"}